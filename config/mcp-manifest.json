{
  "name": "pokerinput-mcp-final",
  "version": "3.0.1",
  "description": "本番環境対応 YAML-based radiation shielding calculation input file management tool with complete MCP support and production features",
  "author": "yoshihiro hirao",
  "license": "ISC",
  "homepage": "http://localhost:3020",
  "repository": {
    "type": "git",
    "url": "https://github.com/your-repo/pokerinput-mcp-final"
  },
  "mcp_version": "1.0.0",
  "server": {
    "name": "pokerinput-mcp-final-server",
    "version": "3.0.1",
    "description": "Complete MCP Server FINAL - 構文エラー修正版",
    "port": 3020,
    "features": [
      "全15のMCPメソッド完全実装",
      "実際のYAMLファイル更新",
      "自動バックアップ機能",
      "完全なエラーハンドリング",
      "JSON-RPC 2.0完全対応"
    ]
  },
  "endpoints": {
    "jsonrpc": "/mcp",
    "root": "/",
    "health": "/health"
  },
  "capabilities": {
    "real_data_update": true,
    "automatic_backup": true,
    "error_handling": "complete",
    "validation": "comprehensive",
    "production_ready": true
  },
  "tools": [
    {
      "name": "pokerinput.proposeBody",
      "description": "新しい立体（ジオメトリ）を提案します。実際のYAMLファイルに反映するにはapplyChangesを実行してください。",
      "parameters": {
        "name": {
          "type": "string",
          "description": "立体の名前（一意である必要があります）",
          "required": true
        },
        "type": {
          "type": "string",
          "description": "立体のタイプ",
          "required": true,
          "enum": ["SPH", "RCC", "RPP", "BOX", "CMB", "TOR", "ELL", "REC", "TRC", "WED"]
        },
        "center": {
          "type": "string",
          "description": "中心座標（x y z形式、SPH用）"
        },
        "radius": {
          "type": "number",
          "description": "半径（SPH, RCC用）"
        },
        "min": {
          "type": "string",
          "description": "最小座標（RPP用、x y z形式）"
        },
        "max": {
          "type": "string",
          "description": "最大座標（RPP用、x y z形式）"
        }
      }
    },
    {
      "name": "pokerinput.updateBody",
      "description": "既存の立体のパラメータを更新します",
      "parameters": {
        "name": {
          "type": "string",
          "description": "更新する立体の名前",
          "required": true
        },
        "radius": {
          "type": "number",
          "description": "新しい半径"
        },
        "center": {
          "type": "string",
          "description": "新しい中心座標"
        }
      }
    },
    {
      "name": "pokerinput.deleteBody",
      "description": "指定された立体を削除します",
      "parameters": {
        "name": {
          "type": "string",
          "description": "削除する立体の名前",
          "required": true
        }
      }
    },
    {
      "name": "pokerinput.proposeZone",
      "description": "新しいゾーン（材料割り当て）を提案します",
      "parameters": {
        "body_name": {
          "type": "string",
          "description": "ゾーンを割り当てる立体の名前",
          "required": true
        },
        "material": {
          "type": "string",
          "description": "材料名",
          "required": true
        },
        "density": {
          "type": "number",
          "description": "密度（g/cm³）"
        }
      }
    },
    {
      "name": "pokerinput.updateZone",
      "description": "既存のゾーンを更新します",
      "parameters": {
        "body_name": {
          "type": "string",
          "description": "更新するゾーンの立体名",
          "required": true
        },
        "material": {
          "type": "string",
          "description": "新しい材料名"
        },
        "density": {
          "type": "number",
          "description": "新しい密度"
        }
      }
    },
    {
      "name": "pokerinput.deleteZone",
      "description": "指定されたゾーンを削除します（ATMOSPHEREは削除不可）",
      "parameters": {
        "body_name": {
          "type": "string",
          "description": "削除するゾーンの立体名",
          "required": true
        }
      }
    },
    {
      "name": "pokerinput.proposeTransform",
      "description": "新しい変換（回転・移動）を提案します",
      "parameters": {
        "name": {
          "type": "string",
          "description": "変換の名前",
          "required": true
        },
        "operation": {
          "type": "array",
          "description": "変換操作の配列（translate, rotate_around_x/y/z）",
          "required": true
        }
      }
    },
    {
      "name": "pokerinput.updateTransform",
      "description": "既存の変換を更新します",
      "parameters": {
        "name": {
          "type": "string",
          "description": "更新する変換の名前",
          "required": true
        },
        "operation": {
          "type": "array",
          "description": "新しい変換操作の配列"
        }
      }
    },
    {
      "name": "pokerinput.deleteTransform",
      "description": "指定された変換を削除します",
      "parameters": {
        "name": {
          "type": "string",
          "description": "削除する変換の名前",
          "required": true
        }
      }
    },
    {
      "name": "pokerinput.proposeBuildupFactor",
      "description": "新しいビルドアップ係数を提案します",
      "parameters": {
        "material": {
          "type": "string",
          "description": "材料名",
          "required": true
        },
        "use_slant_correction": {
          "type": "boolean",
          "description": "斜め補正を使用するか"
        },
        "use_finite_medium_correction": {
          "type": "boolean",
          "description": "有限媒質補正を使用するか"
        }
      }
    },
    {
      "name": "pokerinput.updateBuildupFactor",
      "description": "既存のビルドアップ係数を更新します",
      "parameters": {
        "material": {
          "type": "string",
          "description": "更新する材料名",
          "required": true
        },
        "use_slant_correction": {
          "type": "boolean",
          "description": "斜め補正を使用するか"
        },
        "use_finite_medium_correction": {
          "type": "boolean",
          "description": "有限媒質補正を使用するか"
        }
      }
    },
    {
      "name": "pokerinput.deleteBuildupFactor",
      "description": "指定されたビルドアップ係数を削除します",
      "parameters": {
        "material": {
          "type": "string",
          "description": "削除する材料名",
          "required": true
        }
      }
    },
    {
      "name": "pokerinput.changeOrderBuildupFactor",
      "description": "ビルドアップ係数の順序を変更します",
      "parameters": {
        "material": {
          "type": "string",
          "description": "順序を変更する材料名",
          "required": true
        },
        "newIndex": {
          "type": "number",
          "description": "新しいインデックス位置"
        }
      }
    },
    {
      "name": "pokerinput.proposeSource",
      "description": "新しい線源を提案します",
      "parameters": {
        "name": {
          "type": "string",
          "description": "線源の名前",
          "required": true
        },
        "type": {
          "type": "string",
          "description": "線源のタイプ（POINT等）",
          "required": true
        },
        "position": {
          "type": "string",
          "description": "線源の位置（x y z形式）",
          "required": true
        },
        "inventory": {
          "type": "array",
          "description": "核種と放射能のリスト",
          "required": true
        },
        "cutoff_rate": {
          "type": "number",
          "description": "カットオフレート（デフォルト: 0.0001）"
        }
      }
    },
    {
      "name": "pokerinput.applyChanges",
      "description": "全ての保留中の変更を実際のYAMLファイルに適用します。自動的にバックアップが作成されます。",
      "parameters": {}
    }
  ],
  "data_files": {
    "input": "tasks/pokerinputs.yaml",
    "pending_changes": "tasks/pending_changes.json",
    "backup_directory": "backups/"
  },
  "backup_features": {
    "automatic_backup": true,
    "timestamp_format": "ISO_8601",
    "retention_policy": "最新10個のバックアップを保持",
    "cleanup_automatic": true
  },
  "validation": {
    "body_types": ["SPH", "RCC", "RPP", "BOX", "CMB", "TOR", "ELL", "REC", "TRC", "WED"],
    "required_parameters": {
      "SPH": ["name", "type", "center", "radius"],
      "RPP": ["name", "type", "min", "max"]
    },
    "protected_zones": ["ATMOSPHERE"]
  },
  "error_handling": {
    "json_rpc_compliant": true,
    "error_codes": {
      "-32600": "Invalid Request",
      "-32601": "Method not found",
      "-32602": "Invalid params",
      "-32603": "Internal error",
      "-32000": "Server error"
    }
  },
  "production_features": {
    "real_yaml_updates": true,
    "transaction_safety": true,
    "graceful_shutdown": true,
    "memory_management": "optimized",
    "performance": "production_ready"
  }
}
