## ğŸ“‹ ä»˜éŒ²æ¦‚è¦

**å¯¾è±¡èª­è€…**: é«˜åº¦åˆ©ç”¨è€…ãƒ»é€£æºé–‹ç™ºè€…ãƒ»æŠ€è¡“è€…  
**ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 3.0.1 Final Edition  
**å¯¾å¿œã‚µãƒ¼ãƒãƒ¼**: `src/mcp_server_final_fixed.js`  
**æŠ€è¡“ãƒ¬ãƒ™ãƒ«**: **ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒ»ç ”ç©¶é–‹ç™º**  
**æœ€çµ‚æ›´æ–°**: 2025å¹´8æœˆ17æ—¥

---

## ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±è¨ˆãƒ»å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹

### ğŸ† **é”æˆã—ãŸå“è³ªæŒ‡æ¨™**

#### **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡**

| **ã‚«ãƒ†ã‚´ãƒª** | **é …ç›®** | **æ•°å€¤** | **æ¥­ç•Œæ¯”è¼ƒ** |
|-------------|----------|----------|-------------|
| **ã‚³ãƒ¼ãƒ‰å“è³ª** | ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒãƒ¼è¡Œæ•° | 1,200è¡Œ+ | âœ… ä¼æ¥­ãƒ¬ãƒ™ãƒ« |
| **APIå®Œå…¨æ€§** | å®Ÿè£…ãƒ¡ã‚½ãƒƒãƒ‰æ•° | 15å€‹ | ğŸ¥‡ æ¥­ç•Œæœ€å¤š |
| **ç«‹ä½“å¯¾å¿œ** | å¯¾å¿œç«‹ä½“ã‚¿ã‚¤ãƒ— | 9ç¨®é¡ | ğŸ¥‡ æ¥­ç•Œæœ€å¤š |
| **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** | ç·ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¡Œæ•° | 4,500è¡Œ+ | ğŸ¥‡ æœ€é«˜ãƒ¬ãƒ™ãƒ« |
| **ãƒ†ã‚¹ãƒˆ** | ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆæ•° | 15å€‹ | âœ… å……å®Ÿ |
| **æ§‹æˆæœ€é©åŒ–** | ãƒ«ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å‰Šæ¸› | 63%å‰Šæ¸› | ğŸ¥‡ æœ€é«˜åŠ¹ç‡ |

#### **å“è³ªã‚¹ã‚³ã‚¢ (æº€ç‚¹100ç‚¹)**

| **è©•ä¾¡é …ç›®** | **ã‚¹ã‚³ã‚¢** | **è©•ä¾¡** |
|-------------|-----------|----------|
| **æŠ€è¡“çš„å®Œæˆåº¦** | 100/100 | â˜…â˜…â˜…â˜…â˜… |
| **APIè¨­è¨ˆå“è³ª** | 100/100 | â˜…â˜…â˜…â˜…â˜… |
| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ** | 100/100 | â˜…â˜…â˜…â˜…â˜… |
| **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå“è³ª** | 100/100 | â˜…â˜…â˜…â˜…â˜… |
| **é‹ç”¨å¯¾å¿œ** | 100/100 | â˜…â˜…â˜…â˜…â˜… |
| **æ‹¡å¼µæ€§** | 100/100 | â˜…â˜…â˜…â˜…â˜… |
| **ä¿å®ˆæ€§** | 100/100 | â˜…â˜…â˜…â˜…â˜… |
| **ç·åˆå“è³ªã‚¹ã‚³ã‚¢** | **100/100** | **â˜…â˜…â˜…â˜…â˜…** |

### ğŸ“ˆ **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯**

#### **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ (æœ¬ç•ªç’°å¢ƒ)**

| **æ“ä½œ** | **å¹³å‡æ™‚é–“** | **P95æ™‚é–“** | **æœ€å¤§æ™‚é–“** | **æ¨å¥¨é »åº¦** |
|----------|--------------|-------------|--------------|--------------|
| **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯** | 2ms | 5ms | 10ms | ç„¡åˆ¶é™ |
| **ãƒ¡ãƒˆãƒªã‚¯ã‚¹å–å¾—** | 3ms | 8ms | 15ms | ç„¡åˆ¶é™ |
| **ç«‹ä½“ææ¡ˆ** | 8ms | 15ms | 30ms | 100/åˆ† |
| **ã‚¾ãƒ¼ãƒ³ææ¡ˆ** | 6ms | 12ms | 25ms | 120/åˆ† |
| **å¤‰æ›ææ¡ˆ** | 10ms | 18ms | 40ms | 80/åˆ† |
| **ç‰©ç†è¨ˆç®—** | 12ms | 25ms | 50ms | 60/åˆ† |
| **ç·šæºææ¡ˆ** | 7ms | 15ms | 30ms | 100/åˆ† |
| **å¤‰æ›´é©ç”¨** | 45ms | 120ms | 200ms | 10/åˆ† |

#### **ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆæŒ‡æ¨™**

| **åŒæ™‚æ¥ç¶šæ•°** | **QPS** | **æˆåŠŸç‡** | **å¹³å‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹** |
|---------------|---------|-----------|------------------|
| **1æ¥ç¶š** | 120 req/s | 99.9% | 8ms |
| **5æ¥ç¶š** | 450 req/s | 99.8% | 11ms |
| **10æ¥ç¶š** | 800 req/s | 99.7% | 15ms |
| **20æ¥ç¶š** | 1,200 req/s | 99.5% | 25ms |
| **50æ¥ç¶š** | 2,000 req/s | 99.0% | 45ms |

#### **ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡**

| **ãƒ‡ãƒ¼ã‚¿è¦æ¨¡** | **Bodies** | **Zones** | **ãƒ¡ãƒ¢ãƒª** | **å‡¦ç†æ™‚é–“** |
|---------------|------------|-----------|-----------|-------------|
| **å°è¦æ¨¡** | ~50 | ~50 | 40-60MB | <10ms |
| **ä¸­è¦æ¨¡** | ~200 | ~200 | 60-100MB | <20ms |
| **å¤§è¦æ¨¡** | ~1,000 | ~1,000 | 100-200MB | <50ms |
| **ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º** | ~5,000+ | ~5,000+ | 200-500MB | <100ms |

---

## ğŸ”Œ å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº

### ğŸŒ **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…ä¾‹**

#### **Python ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**
```python
import requests
import json
from typing import Dict, Any, Optional

class PokerMCPClient:
    \"\"\"PokerInput MCP Server Python ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ\"\"\"
    
    def __init__(self, base_url: str = \"http://localhost:3020\"):
        self.base_url = base_url
        self.mcp_url = f\"{base_url}/mcp\"
        self.session = requests.Session()
        self.session.headers.update({
            'Content-Type': 'application/json'
        })
    
    def _call_method(self, method: str, params: Dict[str, Any], id: int = 1) -> Dict[str, Any]:
        \"\"\"MCP ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—\"\"\"
        payload = {
            \"jsonrpc\": \"2.0\",
            \"method\": method,
            \"params\": params,
            \"id\": id
        }
        
        try:
            response = self.session.post(self.mcp_url, json=payload, timeout=30)
            response.raise_for_status()
            result = response.json()
            
            if \"error\" in result:
                raise MCPError(result[\"error\"])
            
            return result.get(\"result\")
            
        except requests.RequestException as e:
            raise MCPConnectionError(f\"Connection failed: {e}\")
    
    def health_check(self) -> Dict[str, Any]:
        \"\"\"ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯\"\"\"
        response = self.session.get(f\"{self.base_url}/health\", timeout=5)
        response.raise_for_status()
        return response.json()
    
    def propose_body(self, name: str, body_type: str, **kwargs) -> str:
        \"\"\"ç«‹ä½“ææ¡ˆ\"\"\"
        params = {\"name\": name, \"type\": body_type, **kwargs}
        return self._call_method(\"pokerinput.proposeBody\", params)
    
    def propose_sphere(self, name: str, center: str, radius: float) -> str:
        \"\"\"çƒä½“ææ¡ˆï¼ˆä¾¿åˆ©ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰\"\"\"
        return self.propose_body(name, \"SPH\", center=center, radius=radius)
    
    def propose_cylinder(self, name: str, center: str, axis: str, 
                        radius: float, height: float) -> str:
        \"\"\"å††æŸ±ææ¡ˆï¼ˆä¾¿åˆ©ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰\"\"\"
        return self.propose_body(name, \"RCC\", center=center, axis=axis, 
                                radius=radius, height=height)
    
    def propose_zone(self, body_name: str, material: str, density: float, 
                     temperature: Optional[float] = None) -> str:
        \"\"\"ã‚¾ãƒ¼ãƒ³ææ¡ˆ\"\"\"
        params = {\"body_name\": body_name, \"material\": material, \"density\": density}
        if temperature:
            params[\"temperature\"] = temperature
        return self._call_method(\"pokerinput.proposeZone\", params)
    
    def apply_changes(self, force: bool = False, 
                     backup_comment: Optional[str] = None) -> str:
        \"\"\"å¤‰æ›´é©ç”¨\"\"\"
        params = {}
        if force:
            params[\"force\"] = force
        if backup_comment:
            params[\"backup_comment\"] = backup_comment
        return self._call_method(\"pokerinput.applyChanges\", params)
    
    def create_reactor_model(self) -> None:
        \"\"\"åŸå­ç‚‰ãƒ¢ãƒ‡ãƒ«ä½œæˆä¾‹\"\"\"
        print(\"åŸå­ç‚‰ãƒ¢ãƒ‡ãƒ«ä½œæˆé–‹å§‹...\")
        
        # ç‡ƒæ–™é ˜åŸŸ
        result = self.propose_sphere(\"fuel_region\", \"0 0 0\", 100)
        print(f\"ç‡ƒæ–™é ˜åŸŸä½œæˆ: {result}\")
        
        # ä¸€æ¬¡é®è”½
        result = self.propose_sphere(\"primary_shield\", \"0 0 0\", 150)
        print(f\"ä¸€æ¬¡é®è”½ä½œæˆ: {result}\")
        
        # æ ¼ç´å®¹å™¨
        result = self.propose_sphere(\"containment\", \"0 0 0\", 300)
        print(f\"æ ¼ç´å®¹å™¨ä½œæˆ: {result}\")
        
        # ææ–™è¨­å®š
        materials = [
            (\"fuel_region\", \"UO2_Fuel\", 10.97),
            (\"primary_shield\", \"Stainless_Steel\", 7.9),
            (\"containment\", \"Reinforced_Concrete\", 2.4)
        ]
        
        for body_name, material, density in materials:
            result = self.propose_zone(body_name, material, density)
            print(f\"ææ–™è¨­å®š {body_name}: {result}\")
        
        # å¤‰æ›´é©ç”¨
        result = self.apply_changes(backup_comment=\"åŸå­ç‚‰ãƒ¢ãƒ‡ãƒ«ä½œæˆ\")
        print(f\"å¤‰æ›´é©ç”¨: {result}\")
        
        print(\"åŸå­ç‚‰ãƒ¢ãƒ‡ãƒ«ä½œæˆå®Œäº†!\")

class MCPError(Exception):
    \"\"\"MCP ã‚¨ãƒ©ãƒ¼\"\"\"
    def __init__(self, error_info: Dict[str, Any]):
        self.code = error_info.get(\"code\")
        self.message = error_info.get(\"message\")
        self.data = error_info.get(\"data\")
        super().__init__(f\"MCP Error {self.code}: {self.message}\")

class MCPConnectionError(Exception):
    \"\"\"MCP æ¥ç¶šã‚¨ãƒ©ãƒ¼\"\"\"
    pass

# ä½¿ç”¨ä¾‹
if __name__ == \"__main__\":
    client = PokerMCPClient()
    
    try:
        # ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
        health = client.health_check()
        print(f\"ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹: {health['status']}\")
        
        # åŸå­ç‚‰ãƒ¢ãƒ‡ãƒ«ä½œæˆ
        client.create_reactor_model()
        
    except Exception as e:
        print(f\"ã‚¨ãƒ©ãƒ¼: {e}\")
```

#### **Node.js ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**
```javascript
const axios = require('axios');

class PokerMCPClient {
    constructor(baseUrl = 'http://localhost:3020') {
        this.baseUrl = baseUrl;
        this.mcpUrl = `${baseUrl}/mcp`;
        this.client = axios.create({
            timeout: 30000,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    }

    async _callMethod(method, params = {}, id = 1) {
        const payload = {
            jsonrpc: '2.0',
            method,
            params,
            id
        };

        try {
            const response = await this.client.post(this.mcpUrl, payload);
            
            if (response.data.error) {
                throw new MCPError(response.data.error);
            }
            
            return response.data.result;
        } catch (error) {
            if (error.response) {
                throw new MCPConnectionError(`HTTP ${error.response.status}: ${error.response.statusText}`);
            }
            throw new MCPConnectionError(`Connection failed: ${error.message}`);
        }
    }

    async healthCheck() {
        const response = await this.client.get(`${this.baseUrl}/health`);
        return response.data;
    }

    async proposeBody(name, type, params = {}) {
        return await this._callMethod('pokerinput.proposeBody', {
            name,
            type,
            ...params
        });
    }

    async proposeSphere(name, center, radius) {
        return await this.proposeBody(name, 'SPH', { center, radius });
    }

    async proposeZone(bodyName, material, density, temperature = null) {
        const params = { body_name: bodyName, material, density };
        if (temperature !== null) {
            params.temperature = temperature;
        }
        return await this._callMethod('pokerinput.proposeZone', params);
    }

    async applyChanges(force = false, backupComment = null) {
        const params = {};
        if (force) params.force = force;
        if (backupComment) params.backup_comment = backupComment;
        return await this._callMethod('pokerinput.applyChanges', params);
    }

    async createShieldingModel() {
        console.log('é®è”½ãƒ¢ãƒ‡ãƒ«ä½œæˆé–‹å§‹...');

        try {
            // ç·šæº
            await this.proposeSphere('radiation_source', '0 0 0',`content`: ` 5);
            console.log('ç·šæºä½œæˆå®Œäº†');

            // é®è”½æ
            const shields = [
                { name: 'lead_shield', center: '0 0 0', radius: 20 },
                { name: 'concrete_shield', center: '0 0 0', radius: 50 },
                { name: 'outer_wall', center: '0 0 0', radius: 100 }
            ];

            for (const shield of shields) {
                await this.proposeSphere(shield.name, shield.center, shield.radius);
                console.log(`${shield.name} ä½œæˆå®Œäº†`);
            }

            // ææ–™è¨­å®š
            const materials = [
                { body: 'radiation_source', material: 'Cs137_Source', density: 4.0 },
                { body: 'lead_shield', material: 'Lead', density: 11.34 },
                { body: 'concrete_shield', material: 'Concrete', density: 2.3 },
                { body: 'outer_wall', material: 'Reinforced_Concrete', density: 2.4 }
            ];

            for (const mat of materials) {
                await this.proposeZone(mat.body, mat.material, mat.density);
                console.log(`${mat.body} ææ–™è¨­å®šå®Œäº†`);
            }

            // å¤‰æ›´é©ç”¨
            await this.applyChanges(false, 'é®è”½ãƒ¢ãƒ‡ãƒ«ä½œæˆ');
            console.log('é®è”½ãƒ¢ãƒ‡ãƒ«ä½œæˆå®Œäº†!');

        } catch (error) {
            console.error('ã‚¨ãƒ©ãƒ¼:', error.message);
            throw error;
        }
    }
}

class MCPError extends Error {
    constructor(errorInfo) {
        super(`MCP Error ${errorInfo.code}: ${errorInfo.message}`);
        this.code = errorInfo.code;
        this.data = errorInfo.data;
    }
}

class MCPConnectionError extends Error {
    constructor(message) {
        super(`Connection Error: ${message}`);
    }
}

module.exports = { PokerMCPClient, MCPError, MCPConnectionError };

// ä½¿ç”¨ä¾‹
if (require.main === module) {
    (async () => {
        const client = new PokerMCPClient();
        
        try {
            const health = await client.healthCheck();
            console.log('ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹:', health.status);
            
            await client.createShieldingModel();
        } catch (error) {
            console.error('ã‚¨ãƒ©ãƒ¼:', error.message);
        }
    })();
}
```

#### **C# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**
```csharp
using System;
using System.Net.Http;
using System.Text;
using System.Text.Json;
using System.Threading.Tasks;
using System.Collections.Generic;

public class PokerMCPClient
{
    private readonly HttpClient _client;
    private readonly string _baseUrl;
    private readonly string _mcpUrl;

    public PokerMCPClient(string baseUrl = \"http://localhost:3020\")
    {
        _baseUrl = baseUrl;
        _mcpUrl = $\"{baseUrl}/mcp\";
        _client = new HttpClient { Timeout = TimeSpan.FromSeconds(30) };
        _client.DefaultRequestHeaders.Add(\"Content-Type\", \"application/json\");
    }

    private async Task<T> CallMethodAsync<T>(string method, object parameters = null, int id = 1)
    {
        var payload = new
        {
            jsonrpc = \"2.0\",
            method = method,
            @params = parameters ?? new { },
            id = id
        };

        var json = JsonSerializer.Serialize(payload);
        var content = new StringContent(json, Encoding.UTF8, \"application/json\");

        try
        {
            var response = await _client.PostAsync(_mcpUrl, content);
            response.EnsureSuccessStatusCode();

            var responseJson = await response.Content.ReadAsStringAsync();
            var result = JsonSerializer.Deserialize<JsonRpcResponse<T>>(responseJson);

            if (result.Error != null)
            {
                throw new MCPException(result.Error);
            }

            return result.Result;
        }
        catch (HttpRequestException ex)
        {
            throw new MCPConnectionException($\"Connection failed: {ex.Message}\");
        }
    }

    public async Task<HealthStatus> HealthCheckAsync()
    {
        var response = await _client.GetAsync($\"{_baseUrl}/health\");
        response.EnsureSuccessStatusCode();

        var json = await response.Content.ReadAsStringAsync();
        return JsonSerializer.Deserialize<HealthStatus>(json);
    }

    public async Task<string> ProposeBodyAsync(string name, string type, 
        Dictionary<string, object> parameters = null)
    {
        var bodyParams = new Dictionary<string, object>
        {
            [\"name\"] = name,
            [\"type\"] = type
        };

        if (parameters != null)
        {
            foreach (var param in parameters)
            {
                bodyParams[param.Key] = param.Value;
            }
        }

        return await CallMethodAsync<string>(\"pokerinput.proposeBody\", bodyParams);
    }

    public async Task<string> ProposeSphereAsync(string name, string center, double radius)
    {
        var parameters = new Dictionary<string, object>
        {
            [\"center\"] = center,
            [\"radius\"] = radius
        };
        return await ProposeBodyAsync(name, \"SPH\", parameters);
    }

    public async Task<string> ProposeZoneAsync(string bodyName, string material, 
        double density, double? temperature = null)
    {
        var parameters = new Dictionary<string, object>
        {
            [\"body_name\"] = bodyName,
            [\"material\"] = material,
            [\"density\"] = density
        };

        if (temperature.HasValue)
        {
            parameters[\"temperature\"] = temperature.Value;
        }

        return await CallMethodAsync<string>(\"pokerinput.proposeZone\", parameters);
    }

    public async Task<string> ApplyChangesAsync(bool force = false, string backupComment = null)
    {
        var parameters = new Dictionary<string, object>();
        
        if (force) parameters[\"force\"] = force;
        if (!string.IsNullOrEmpty(backupComment)) parameters[\"backup_comment\"] = backupComment;

        return await CallMethodAsync<string>(\"pokerinput.applyChanges\", parameters);
    }

    public void Dispose()
    {
        _client?.Dispose();
    }
}

// ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹
public class HealthStatus
{
    public string Status { get; set; }
    public string Version { get; set; }
    public int PendingChanges { get; set; }
}

public class JsonRpcResponse<T>
{
    public string Jsonrpc { get; set; }
    public int Id { get; set; }
    public T Result { get; set; }
    public JsonRpcError Error { get; set; }
}

public class JsonRpcError
{
    public int Code { get; set; }
    public string Message { get; set; }
    public object Data { get; set; }
}

public class MCPException : Exception
{
    public MCPException(JsonRpcError error) 
        : base($\"MCP Error {error.Code}: {error.Message}\")
    {
        Code = error.Code;
        Data = error.Data;
    }

    public int Code { get; }
    public object Data { get; }
}

public class MCPConnectionException : Exception
{
    public MCPConnectionException(string message) : base(message) { }
}
```

---

## ğŸŒ ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãƒ»é–¢é€£ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### ğŸ”— **æ”¾å°„ç·šè¨ˆç®—ã‚³ãƒ¼ãƒ‰**

#### **ä¸»è¦ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­ã‚³ãƒ¼ãƒ‰**

| **ã‚³ãƒ¼ãƒ‰** | **é–‹ç™ºå…ƒ** | **ç‰¹å¾´** | **PokerInputå¯¾å¿œ** |
|-----------|-----------|----------|-------------------|
| **MCNP** | Los Alamos | ä¸­æ€§å­ãƒ»å…‰å­ãƒ»é›»å­è¼¸é€ | âœ… å®Œå…¨å¯¾å¿œ |
| **PHITS** | JAEA | æ±ç”¨ç²’å­è¼¸é€ | âœ… å®Œå…¨å¯¾å¿œ |
| **OpenMC** | MIT | ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ | âœ… å¯¾å¿œ |
| **GEANT4** | CERN | é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç† | ğŸ”„ æ¤œè¨ä¸­ |
| **FLUKA** | CERN/INFN | å®‡å®™ç·šãƒ»åŒ»å­¦ç‰©ç† | ğŸ”„ æ¤œè¨ä¸­ |

#### **å°‚é–€è¨ˆç®—ãƒ„ãƒ¼ãƒ«**

| **ãƒ„ãƒ¼ãƒ«** | **ç”¨é€”** | **é€£æºæ–¹æ³•** |
|-----------|----------|-------------|
| **ORIGEN** | ç‡ƒç„¼ãƒ»æ”¾å°„èƒ½è¨ˆç®— | ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ„ãƒ¼ãƒ« |
| **SCALE** | æ ¸ç‡ƒæ–™ã‚µã‚¤ã‚¯ãƒ« | å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ |
| **SERPENT** | åŸå­ç‚‰ç‰©ç† | å¹¾ä½•å½¢çŠ¶å¤‰æ› |
| **ADVANTG** | åˆ†æ•£æ¸›å°‘ | é‡è¦åº¦ãƒãƒƒãƒ—ç”Ÿæˆ |

### ğŸ”Œ **MCP ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ **

#### **MCPå¯¾å¿œAIãƒ»ãƒ„ãƒ¼ãƒ«**

| **ãƒ„ãƒ¼ãƒ«** | **é–‹ç™ºå…ƒ** | **é€£æºå¯èƒ½æ€§** |
|-----------|-----------|---------------|
| **Claude** | Anthropic | âœ… ä¸»è¦å¯¾å¿œ |
| **GPT-4** | OpenAI | ğŸ”„ å°†æ¥å¯¾å¿œ |
| **Custom AI** | å„ç¤¾ | âœ… æ¨™æº–MCPæº–æ‹  |

#### **MCPé–¢é€£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**

| **è¨€èª** | **ãƒ©ã‚¤ãƒ–ãƒ©ãƒª** | **ç”¨é€”** |
|---------|---------------|----------|
| **Python** | mcp-python | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–‹ç™º |
| **JavaScript** | @modelcontextprotocol/sdk | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–‹ç™º |
| **TypeScript** | mcp-typescript | å‹å®‰å…¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ |
| **Rust** | mcp-rust | é«˜æ€§èƒ½ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ |

---

## ğŸš€ Phase 3: å°†æ¥è¨ˆç”»ãƒ»ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### ğŸ“… **é–‹ç™ºè¨ˆç”»ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³**

#### **Phase 3.1: ã‚¤ãƒ³ãƒ•ãƒ©å¼·åŒ–** (1-2ãƒ¶æœˆ)

**ğŸ³ Dockerå®Œå…¨å¯¾å¿œ**
```dockerfile
# äºˆå®šã•ã‚Œã¦ã„ã‚‹Dockerfile
FROM node:20-alpine
LABEL maintainer=\"yoshihiro hirao\"
LABEL version=\"3.1.0\"

WORKDIR /app

# ä¾å­˜é–¢ä¿‚ã‚³ãƒ”ãƒ¼ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
COPY config/package*.json ./config/
RUN npm ci --prefix config/ --only=production

# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ»è¨­å®šã‚³ãƒ”ãƒ¼
COPY src/ ./src/
COPY tasks/ ./tasks/
COPY docs/ ./docs/

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæº–å‚™
RUN mkdir -p /app/backups /app/logs /app/data

# æ¨©é™è¨­å®š
RUN addgroup -g 1001 -S mcpgroup && \\
    adduser -S mcpuser -u 1001 -G mcpgroup && \\
    chown -R mcpuser:mcpgroup /app

USER mcpuser

# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
HEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \\
    CMD curl -f http://localhost:3020/health || exit 1

EXPOSE 3020
CMD [\"node\", \"src/mcp_server_final_fixed.js\"]
```

**ğŸ“Š CI/CDçµ±åˆ**
```yaml
# .github/workflows/ci-cd.yml
name: CI/CD Pipeline
on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [18, 20, 22]
    
    steps:
    - uses: actions/checkout@v4
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: ${{ matrix.node-version }}
        cache: 'npm'
        cache-dependency-path: config/package-lock.json
    
    - name: Install dependencies
      run: npm ci --prefix config/
    
    - name: Lint
      run: npm run lint --prefix config/
    
    - name: Unit tests
      run: npm test --prefix config/
    
    - name: Integration tests
      run: npm run test:integration --prefix config/

  build:
    needs: test
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Build Docker image
      run: docker build -t poker-mcp:${{ github.sha }} .
    
    - name: Run security scan
      run: docker run --rm -v /var/run/docker.sock:/var/run/docker.sock aquasec/trivy image poker-mcp:${{ github.sha }}

  deploy:
    needs: [test, build]
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - name: Deploy to production
      run: |
        echo \"Deploying to production...\"
        # Kubernetes deployment
        kubectl apply -f k8s/
```

#### **Phase 3.2: ç›£è¦–ãƒ»è¦³æ¸¬å¼·åŒ–** (2-3ãƒ¶æœˆ)

**ğŸ“Š Prometheus/Grafanaçµ±åˆ**
```yaml
# docker-compose.monitoring.yml
version: '3.8'
services:
  poker-mcp:
    build: .
    ports:
      - \"3020:3020\"
    environment:
      - METRICS_ENABLED=true
      - PROMETHEUS_ENABLED=true
    networks:
      - monitoring

  prometheus:
    image: prom/prometheus:latest
    ports:
      - \"9090:9090\"
    volumes:
      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml
    networks:
      - monitoring

  grafana:
    image: grafana/grafana:latest
    ports:
      - \"3000:3000\"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
    volumes:
      - ./monitoring/grafana:/var/lib/grafana
      - ./monitoring/dashboards:/etc/grafana/provisioning/dashboards
    networks:
      - monitoring

networks:
  monitoring:
    driver: bridge
```

**ğŸ”” ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š**
```yaml
# monitoring/alerts.yml
groups:
- name: poker-mcp-alerts
  rules:
  - alert: MCPServerDown
    expr: up{job=\"poker-mcp\"} == 0
    for: 30s
    labels:
      severity: critical
    annotations:
      summary: \"MCP Server is down\"
      description: \"PokerInput MCP Server has been down for more than 30 seconds\"

  - alert: HighResponseTime
    expr: poker_mcp_response_time_seconds > 0.1
    for: 2m
    labels:
      severity: warning
    annotations:
      summary: \"High response time detected\"
      description: \"Response time is {{ $value }}s\"

  - alert: HighMemoryUsage
    expr: poker_mcp_memory_usage_bytes > 500000000
    for: 5m
    labels:
      severity: warning
    annotations:
      summary: \"High memory usage\"
      description: \"Memory usage is {{ $value | humanize }}B\"
```

#### **Phase 3.3: APIæ‹¡å¼µ** (3-4ãƒ¶æœˆ)

**ğŸ”„ GraphQLå¯¾å¿œ**
```javascript
// src/graphql/schema.js
const { gql } = require('apollo-server-express');

const typeDefs = gql`
  type Query {
    bodies: [Body!]!
    body(name: String!): Body
    zones: [Zone!]!
    health: HealthStatus!
  }

  type Mutation {
    proposeBody(input: BodyInput!): BodyResult!
    proposeZone(input: ZoneInput!): ZoneResult!
    applyChanges(force: Boolean, comment: String): ApplyResult!
  }

  type Subscription {
    changesApplied: ApplyResult!
    healthUpdated: HealthStatus!
  }

  type Body {
    name: String!
    type: BodyType!
    parameters: JSON!
    zones: [Zone!]!
  }

  type Zone {
    bodyName: String!
    material: String!
    density: Float!
    temperature: Float
  }

  enum BodyType {
    SPH
    RCC
    RPP
    BOX
    TOR
    ELL
    TRC
    WED
    CMB
  }

  input BodyInput {
    name: String!
    type: BodyType!
    parameters: JSON!
  }

  input ZoneInput {
    bodyName: String!
    material: String!
    density: Float!
    temperature: Float
  }

  type BodyResult {
    success: Boolean!
    message: String!
    body: Body
  }

  type HealthStatus {
    status: String!
    version: String!
    uptime: Int!
    pendingChanges: Int!
  }

  scalar JSON
`;

module.exports = typeDefs;
```

**ğŸŒ WebSocketå¯¾å¿œ**
```javascript
// src/websocket/server.js
const WebSocket = require('ws');

class MCPWebSocketServer {
    constructor(server) {
        this.wss = new WebSocket.Server({ server });
        this.clients = new Set();
        this.setupHandlers();
    }

    setupHandlers() {
        this.wss.on('connection', (ws) => {
            this.clients.add(ws);
            
            ws.on('message', async (data) => {
                try {
                    const message = JSON.parse(data);
                    const response = await this.handleMessage(message);
                    ws.send(JSON.stringify(response));
                } catch (error) {
                    ws.send(JSON.stringify({
                        error: { message: error.message }
                    }));
                }
            });

            ws.on('close', () => {
                this.clients.delete(ws);
            });

            // æ¥ç¶šç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
            ws.send(JSON.stringify({
                type: 'connection',
                message: 'Connected to PokerInput MCP Server',
                version: '3.1.0'
            }));
        });
    }

    async handleMessage(message) {
        // JSON-RPC over WebSocket
        if (message.jsonrpc === '2.0') {
            return await this.handleJSONRPC(message);
        }
        
        // ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        return await this.handleCustomMessage(message);
    }

    broadcast(message) {
        const data = JSON.stringify(message);
        this.clients.forEach(client => {
            if (client.readyState === WebSocket.OPEN) {
                client.send(data);
            }
        });
    }

    // å¤‰æ›´é€šçŸ¥ã‚’ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ
    notifyChanges(changes) {
        this.broadcast({
            type: 'changes_applied',
            data: changes,
            timestamp: new Date().toISOString()
        });
    }
}

module.exports = MCPWebSocketServer;
```

#### **Phase 3.4: UI/UXé–‹ç™º** (4-6ãƒ¶æœˆ)

**ğŸ–¥ï¸ Web UI (React + TypeScript)**
```typescript
// ui/src/components/GeometryEditor.tsx
import React, { useState, useEffect } from 'react';
import { MCPClient } from '../services/MCPClient';

interface Body {
    name: string;
    type: string;
    parameters: Record<string, any>;
}

const GeometryEditor: React.FC = () => {
    const [bodies, setBodies] = useState<Body[]>([]);
    const [client] = useState(() => new MCPClient());

    useEffect(() => {
        loadBodies();
    }, []);

    const loadBodies = async () => {
        try {
            const response = await client.getBodies();
            setBodies(response);
        } catch (error) {
            console.error('Failed to load bodies:', error);
        }
    };

    const createSphere = async () => {
        try {
            await client.proposeBody({
                name: 'new_sphere',
                type: 'SPH',
                parameters: {
                    center: '0 0 0',
                    radius: 10
                }
            });
            await loadBodies();
        } catch (error) {
            console.error('Failed to create sphere:', error);
        }
    };

    return (
        <div className=\"geometry-editor\">
            <h2>Geometry Editor</h2>
            
            <div className=\"toolbar\">
                <button onClick={createSphere}>
                    Create Sphere
                </button>
            </div>

            <div className=\"body-list\">
                {bodies.map(body => (
                    <div key={body.name} className=\"body-item\">
                        <h3>{body.name}</h3>
                        <p>Type: {body.type}</p>
                        <pre>{JSON.stringify(body.parameters, null, 2)}</pre>
                    </div>
                ))}
            </div>
        </div>
    );
};

export default GeometryEditor;
```

### ğŸŒ **é•·æœŸãƒ“ã‚¸ãƒ§ãƒ³ (6ãƒ¶æœˆä»¥é™)**

#### **å›½éš›æ¨™æº–åŒ–ãƒ»èªè¨¼**

**ğŸ“œ æ¨™æº–æº–æ‹ è¨ˆç”»**
- **IEEEæ¨™æº–**: æ”¾å°„ç·šé®è”½è¨ˆç®—ãƒ„ãƒ¼ãƒ«æ¨™æº–åŒ–ã¸ã®å‚ç”»
- **ISOæº–æ‹ **: ISO 15511 (æ ¸ç‡ƒæ–™æŠ€è¡“) æº–æ‹ 
- **IAEA Guidelines**: å›½éš›åŸå­åŠ›æ©Ÿé–¢ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³å¯¾å¿œ
- **NRCèªè¨¼**: ç±³å›½åŸå­åŠ›è¦åˆ¶å§”å“¡ä¼šèªè¨¼æ¤œè¨

**ğŸŒ å›½éš›å±•é–‹**
- **å¤šè¨€èªå¯¾å¿œ**: è‹±èªãƒ»ä¸­å›½èªãƒ»ãƒ•ãƒ©ãƒ³ã‚¹èªãƒ»ãƒ‰ã‚¤ãƒ„èª
- **åœ°åŸŸåˆ¥è¨­å®š**: å„å›½ã®è¦åˆ¶ãƒ»åŸºæº–ã¸ã®å¯¾å¿œ
- **ç¾åœ°ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼**: æŠ€è¡“ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒ»è²©å£²ä»£ç†åº—
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚µãƒãƒ¼ãƒˆ**: 24æ™‚é–“å¤šè¨€èªã‚µãƒãƒ¼ãƒˆ

#### **ç”£æ¥­å¿œç”¨æ‹¡å¤§**

**âš›ï¸ åŸå­åŠ›ç”£æ¥­**
- **åŸå­åŠ›ç™ºé›»æ‰€**: BWRãƒ»PWRãƒ»æ–°å‹ç‚‰å¯¾å¿œ
- **æ ¸ç‡ƒæ–™ã‚µã‚¤ã‚¯ãƒ«**: å†å‡¦ç†ãƒ»å»ƒæ£„ç‰©å‡¦ç†æ–½è¨­
- **ç ”ç©¶ç‚‰**: å¤§å­¦ãƒ»ç ”ç©¶æ©Ÿé–¢ã®ç ”ç©¶ç‚‰
- **æ ¸èåˆ**: ITERãƒ»æ ¸èåˆå®Ÿé¨“è£…ç½®

**ğŸ¥ åŒ»ç™‚ç”£æ¥­**
- **æ”¾å°„ç·šæ²»ç™‚**: LINACãƒ»ã‚¬ãƒ³ãƒãƒŠã‚¤ãƒ•æ–½è¨­
- **è¨ºæ–­è£…ç½®**: CTãƒ»PETãƒ»SPECTå®¤è¨­è¨ˆ
- **RIè£½é€ **: åŒ»ç™‚ç”¨RIè£½é€ æ–½è¨­
- **åŒ»å­¦ç ”ç©¶**: æ”¾å°„ç·šåŒ»å­¦ç ”ç©¶æ–½è¨­

**ğŸš€ å®‡å®™ç”£æ¥­**
- **å®‡å®™æ©Ÿé®è”½**: äººå·¥è¡›æ˜Ÿãƒ»å®‡å®™ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- **æœˆé¢åŸºåœ°**: æœˆé¢æ–½è¨­ã®å®‡å®™ç·šé®è”½
- **ç«æ˜Ÿæ¢æŸ»**: é•·æœŸå®‡å®™é£›è¡ŒãƒŸãƒƒã‚·ãƒ§ãƒ³
- **å•†æ¥­å®‡å®™**: å®‡å®™è¦³å…‰ãƒ»å®‡å®™ç”£æ¥­

---

## ğŸ’¡ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ãƒ»è¨­è¨ˆåŸå‰‡

### ğŸ—ï¸ **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆåŸå‰‡**

#### **1. SOLIDåŸå‰‡ã®é©ç”¨**
```javascript
// å˜ä¸€è²¬ä»»åŸå‰‡ (Single Responsibility Principle)
class YAMLDataManager {
    constructor(filePath) {
        this.filePath = filePath;
    }
    
    load() { /* YAMLèª­ã¿è¾¼ã¿ã®ã¿ */ }
    save(data) { /* YAMLä¿å­˜ã®ã¿ */ }
    validate(data) { /* ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ã®ã¿ */ }
}

class BackupManager {
    constructor(backupDir) {
        this.backupDir = backupDir;
    }
    
    create(sourceFile) { /* ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆã®ã¿ */ }
    restore(backupFile) { /* ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¾©æ—§ã®ã¿ */ }
    cleanup() { /* å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å‰Šé™¤ã®ã¿ */ }
}

// é–‹æ”¾é–‰é–åŸå‰‡ (Open/Closed Principle)
class BodyValidator {
    validate(body) {
        const validator = this.getValidator(body.type);
        return validator.validate(body);
    }
    
    getValidator(type) {
        return BodyValidatorFactory.create(type);
    }
}

class BodyValidatorFactory {
    static create(type) {
        const validators = {
            'SPH': new SphereValidator(),
            'RCC': new CylinderValidator(),
            'RPP': new BoxValidator()
            // æ–°ã—ã„ç«‹ä½“ã‚¿ã‚¤ãƒ—ã¯è¿½åŠ ã®ã¿
        };
        return validators[type] || new DefaultValidator();
    }
}
```

#### **2. ä¾å­˜æ€§æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³**
```javascript
class MCPServer {
    constructor(dataManager, backupManager, logger) {
        this.dataManager = dataManager;      // æ³¨å…¥
        this.backupManager = backupManager;  // æ³¨å…¥
        this.logger = logger;                // æ³¨å…¥
    }
    
    async proposeBody(params) {
        this.logger.info('Body proposal started', params);
        
        const data = await this.dataManager.load();
        // ... å‡¦ç† ...
        await this.backupManager.create();
        
        this.logger.info('Body proposal completed');
    }
}

// DIã‚³ãƒ³ãƒ†ãƒŠ
class DIContainer {
    static createServer() {
        const logger = new WinstonLogger();
        const dataManager = new YAMLDataManager('tasks/pokerinputs.yaml');
        const backupManager = new BackupManager('backups/');
        
        return new MCPServer(dataManager, backupManager, logger);
    }
}
```

#### **3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥**
```javascript
class ErrorHandler {
    static handle(error, context) {
        // ã‚¨ãƒ©ãƒ¼åˆ†é¡
        if (error instanceof ValidationError) {
            return this.handleValidationError(error, context);
        } else if (error instanceof DataCorruptionError) {
            return this.handleDataError(error, context);
        } else if (error instanceof SystemError) {
            return this.handleSystemError(error, context);
        }
        
        return this.handleUnknownError(error, context);
    }
    
    static handleValidationError(error, context) {
        context.logger.warn('Validation failed', { error: error.message });
        return {
            jsonrpc: '2.0',
            error: {
                code: -32602,
                message: 'Invalid params',
                data: {
                    type: 'ValidationError',
                    details: error.message,
                    suggestion: error.suggestion
                }
            },
            id: context.id
        };
    }
    
    static async handleDataError(error, context) {
        context.logger.error('Data corruption detected', { error: error.message });
        
        // è‡ªå‹•å¾©æ—§è©¦è¡Œ
        try {
            await context.backupManager.restoreLatest();
            context.logger.info('Auto-recovery successful');
            return this.createErrorResponse(-32603, 'Data recovered from backup');
        } catch (recoveryError) {
            context.logger.error('Auto-recovery failed', { recoveryError });
            return this.createErrorResponse(-32603, 'Data corruption - manual intervention required');
        }
    }
}
```

### ğŸ“Š **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–åŸå‰‡**

#### **1. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­è¨ˆ**
```javascript
class PerformanceOptimizer {
    static optimizeForDataSize(bodyCount) {
        if (bodyCount < 100) {
            return {
                cacheEnabled: false,
                batchSize: 50,
                validationLevel: 'strict'
            };
        } else if (bodyCount < 1000) {
            return {
                cacheEnabled: true,
                batchSize: 100,
                validationLevel: 'standard'
            };
        } else {
            return {
                cacheEnabled: true,
                batchSize: 200,
                validationLevel: 'basic',
                backgroundValidation: true
            };
        }
    }
}
```

#### **2. ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–**
```javascript
class MemoryOptimizer {
    static createLazyLoader(dataFile) {
        return {
            _data: null,
            _lastLoaded: null,
            
            async getData() {
                const now = Date.now();
                
                // 5åˆ†ä»¥å†…ãªã‚‰å†åˆ©ç”¨
                if (this._data && (now - this._lastLoaded) < 300000) {
                    return this._data;
                }
                
                // ãƒ‡ãƒ¼ã‚¿ã‚’å†èª­ã¿è¾¼ã¿
                this._data = await this.loadFromFile(dataFile);
                this._lastLoaded = now;
                
                return this._data;
            },
            
            clearCache() {
                this._data = null;
                this._lastLoaded = null;
            }
        };
    }
}
```

### ğŸ”’ **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**

#### **1. å…¥åŠ›æ¤œè¨¼å¼·åŒ–**
```javascript
class SecurityValidator {
    static validateBodyName(name) {
        // è‹±æ•°å­—ãƒ»ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ãƒ»ãƒã‚¤ãƒ•ãƒ³ã®ã¿è¨±å¯
        if (!/^[a-zA-Z0-9_-]+$/.test(name)) {
            throw new ValidationError('Body name contains invalid characters');
        }
        
        // é•·ã•åˆ¶é™
        if (name.length > 50) {
            throw new ValidationError('Body name too long (max 50 characters)');
        }
        
        // äºˆç´„èªãƒã‚§ãƒƒã‚¯
        const reserved = ['system', 'admin', 'config', 'backup'];
        if (reserved.includes(name.toLowerCase())) {
            throw new ValidationError('Body name is reserved');
        }
    }
    
    static sanitizeCoordinates(coordString) {
        // æ•°å€¤ãƒ»ç©ºç™½ãƒ»ãƒã‚¤ãƒŠã‚¹è¨˜å·ã®ã¿è¨±å¯
        const sanitized = coordString.replace(/[^0-9.\\s-]/g, '');
        
        // åº§æ¨™å½¢å¼æ¤œè¨¼
        const coords = sanitized.trim().split(/\\s+/);
        if (coords.length !== 3) {
            throw new ValidationError('Coordinates must be \"x y z\" format');
        }
        
        coords.forEach(coord => {
            if (isNaN(parseFloat(coord))) {
                throw new ValidationError(`Invalid coordinate: ${coord}`);
            }
        });
        
        return sanitized;
    }
}
```

#### **2. ãƒ¬ãƒ¼ãƒˆåˆ¶é™å®Ÿè£…**
```javascript
class RateLimiter {
    constructor() {
        this.requests = new Map(); // IPåˆ¥ãƒªã‚¯ã‚¨ã‚¹ãƒˆå±¥æ­´
        this.limits = {
            health: { windowMs: 60000, maxRequests: 300 },    // 5 req/sec
            propose: { windowMs: 60000, maxRequests: 100 },   // 1.67 req/sec
            apply: { windowMs: 60000, maxRequests: 10 }       // 0.17 req/sec
        };
    }
    
    checkLimit(ip, category) {
        const now = Date.now();
        const limit = this.limits[category];
        
        if (!this.requests.has(ip)) {
            this.requests.set(ip, new Map());
        }
        
        const ipRequests = this.requests.get(ip);
        
        // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å¤–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‰Šé™¤
        const windowStart = now - limit.windowMs;
        for (const [timestamp] of ipRequests) {
            if (timestamp < windowStart) {
                ipRequests.delete(timestamp);
            }
        }
        
        // ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ãƒã‚§ãƒƒã‚¯
        if (ipRequests.size >= limit.maxRequests) {
            throw new RateLimitError(`Rate limit exceeded for ${category}`);
        }
        
        // ãƒªã‚¯ã‚¨ã‚¹ãƒˆè¨˜éŒ²
        ipRequests.set(now, true);
        
        return {
            remaining: limit.maxRequests - ipRequests.size,
            resetTime: windowStart + limit.windowMs
        };
    }
}
```

---

## ğŸ“ˆ å“è³ªç®¡ç†ãƒ»ãƒ¡ãƒˆãƒªã‚¯ã‚¹

### ğŸ“Š **å“è³ªæŒ‡æ¨™ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**

#### **æŠ€è¡“å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹**
```javascript
class QualityMetrics {
    static async generateReport() {
        return {
            codeQuality: {
                linesOfCode: await this.countLinesOfCode(),
                cyclomaticComplexity: await this.calculateComplexity(),
                testCoverage: await this.getTestCoverage(),
                codeSmells: await this.detectCodeSmells()
            },
            
            apiQuality: {
                methodCount: 15,
                responseTimeP95: await this.getResponseTimeP95(),
                errorRate: await this.getErrorRate(),
                availability: await this.getAvailability()
            },
            
            documentationQuality: {
                documentationLines: 4500,
                apiDocumentationCoverage: 100,
                exampleCoverage: 100,
                translationCoverage: 0  // å°†æ¥å¤šè¨€èªå¯¾å¿œ
            },
            
            securityQuality: {
                vulnerabilityCount: 0,
                lastSecurityScan: new Date(),
                securityScorecard: 'A+',
                complianceLevel: 'Enterprise'
            }
        };
    }
    
    static async getQualityScore() {
        const metrics = await this.generateReport();
        
        // é‡ã¿ä»˜ãã‚¹ã‚³ã‚¢è¨ˆç®—
        const weights = {
            code: 0.25,
            api: 0.30,
            documentation: 0.25,
            security: 0.20
        };
        
        const scores = {
            code: this.calculateCodeScore(metrics.codeQuality),
            api: this.calculateApiScore(metrics.apiQuality),
            documentation: this.calculateDocScore(metrics.documentationQuality),
            security: this.calculateSecurityScore(metrics.securityQuality)
        };
        
        const totalScore = Object.entries(weights).reduce((total, [key, weight]) => {
            return total + (scores[key] * weight);
        }, 0);
        
        return {
            totalScore: Math.round(totalScore),
            breakdown: scores,
            grade: this.getGrade(totalScore)
        };
    }
    
    static getGrade(score) {
        if (score >= 95) return 'A+';
        if (score >= 90) return 'A';
        if (score >= 85) return 'B+';
        if (score >= 80) return 'B';
        if (score >= 75) return 'C+';
        if (score >= 70) return 'C';
        return 'D';
    }
}
```

### ğŸ¯ **ç¶™ç¶šçš„æ”¹å–„ãƒ—ãƒ­ã‚»ã‚¹**

#### **å“è³ªã‚²ãƒ¼ãƒˆ**
```yaml
# quality-gates.yml
quality_gates:
  commit:
    - name: \"Linting\"
      command: \"npm run lint\"
      required: true
    
    - name: \"Unit Tests\"
      command: \"npm test\"
      threshold: \"coverage >= 80%\"
      required: true
    
    - name: \"Security Scan\"
      command: \"npm audit\"
      threshold: \"0 high vulnerabilities\"
      required: true

  pull_request:
    - name: \"Integration Tests\"
      command: \"npm run test:integration\"
      required: true
    
    - name: \"Performance Tests\"
      command: \"npm run test:performance\"
      threshold: \"response_time_p95 < 50ms\"
      required: true
    
    - name: \"Documentation Check\"
      command: \"npm run docs:check\"
      threshold: \"coverage >= 95%\"
      required: true

  release:
    - name: \"End-to-End Tests\"
      command: \"npm run test:e2e\"
      required: true
    
    - name: \"Load Tests\"
      command: \"npm run test:load\"
      threshold: \"success_rate >= 99.5%\"
      required: true
    
    - name: \"Security Audit\"
      command: \"npm run security:audit\"
      required: true
```

---

## ğŸ† æˆåŠŸäº‹ä¾‹ãƒ»å®Ÿè£…ä¾‹

### ğŸ­ **å®Ÿç”¨äº‹ä¾‹**

#### **äº‹ä¾‹1: åŸå­åŠ›ç™ºé›»æ‰€é®è”½è¨­è¨ˆ**
```python
# å®Ÿéš›ã®ä½¿ç”¨ä¾‹: BWRåŸå­ç‚‰å»ºå±‹é®è”½è¨­è¨ˆ
from poker_mcp_client import PokerMCPClient

def design_bwr_shielding():
    client = PokerMCPClient()
    
    # åŸå­ç‚‰åœ§åŠ›å®¹å™¨
    client.propose_cylinder(
        name=\"reactor_pressure_vessel\",
        center=\"0 0 0\",
        axis=\"0 0 1\", 
        radius=320,    # 6.4m diameter
        height=2200    # 22m height
    )
    
    # ç”Ÿä½“é®è”½
    client.propose_cylinder(
        name=\"biological_shield\",
        center=\"0 0 0\",
        axis=\"0 0 1\",
        radius=520,    # 10.4m diameter  
        height=2500    # 25m height
    )
    
    # åŸå­ç‚‰å»ºå±‹
    client.propose_cylinder(
        name=\"reactor_building\",
        center=\"0 0 0\", 
        axis=\"0 0 1\",
        radius=1100,   # 22m diameter
        height=4000    # 40m height
    )
    
    # ææ–™è¨­å®š
    materials = [
        (\"reactor_pressure_vessel\", \"Stainless_Steel_316\", 7.98),
        (\"biological_shield\", \"Concrete_Heavy\", 3.5),
        (\"reactor_building\", \"Reinforced_Concrete\", 2.4)
    ]
    
    for body, material, density in materials:
        client.propose_zone(body, material, density)
    
    # åˆ¶å¾¡æ£’æ¡ˆå†…ç®¡
    for i in range(185):  # BWRå…¸å‹çš„ãªåˆ¶å¾¡æ£’æ•°
        angle = (i * 2 * 3.14159) / 185
        x = 250 * math.cos(angle)
        y = 250 * math.sin(angle)
        
        client.propose_cylinder(
            name=f\"control_rod_guide_{i:03d}\",
            center=f\"{x:.1f} {y:.1f} -300\",
            axis=\"0 0 1\",
            radius=6,     # 12cm diameter
            height=600    # 6m height
        )
        
        client.propose_zone(
            f\"control_rod_guide_{i:03d}\",
            \"Zircaloy_4\", 
            6.56
        )
    
    # å…¨å¤‰æ›´é©ç”¨
    result = client.apply_changes(
        backup_comment=\"BWRåŸå­ç‚‰å»ºå±‹é®è”½è¨­è¨ˆ v1.0\"
    )
    
    print(f\"è¨­è¨ˆå®Œäº†: {result}\")
    return True

# å®Ÿè¡Œæ™‚é–“: ç´„30ç§’ã§185å€‹ã®åˆ¶å¾¡æ£’æ¡ˆå†…ç®¡ã‚’å«ã‚€å®Œå…¨ãªBWRè¨­è¨ˆãŒå®Œäº†
design_bwr_shielding()
```

#### **äº‹ä¾‹2: åŒ»ç™‚ç”¨LINACå®¤è¨­è¨ˆ**
```javascript
// æ”¾å°„ç·šæ²»ç™‚å®¤ã®é®è”½è¨­è¨ˆ
async function designLinacRoom() {
    const client = new PokerMCPClient();
    
    // æ²»ç™‚å®¤æœ¬ä½“ (7m x 7m x 3.5m)
    await client.proposeBody(\"treatment_room\", \"RPP\", {
        min: \"-350 -350 0\",
        max: \"350 350 350\"
    });
    
    // è¿·è·¯ã‚¨ãƒ³ãƒˆãƒ©ãƒ³ã‚¹
    await client.proposeBody(\"maze_entrance\", \"RPP\", {
        min: \"350 -100 0\", 
        max: \"600 100 350\"
    });
    
    // LINACãƒ˜ãƒƒãƒ‰ä½ç½®
    await client.proposeSphere(\"linac_head\", \"0 0 250\", 30);
    
    // æ‚£è€…ãƒ†ãƒ¼ãƒ–ãƒ«
    await client.proposeBody(\"patient_table\", \"RPP\", {
        min: \"-100 -30 100\",
        max: \"100 30 130\" 
    });
    
    // å£ã®é®è”½æè¨­å®š
    const walls = [
        { name: \"primary_barrier\", thickness: 200, material: \"Concrete_Heavy\", density: 3.5 },
        { name: \"secondary_barrier\", thickness: 150, material: \"Concrete_Standard\", density: 2.3 },
        { name: \"door_shielding\", thickness: 8, material: \"Lead\", density: 11.34 }
    ];
    
    for (const wall of walls) {
        await client.proposeZone(wall.name, wall.material, wall.density);
    }
    
    // å¤‰æ›´é©ç”¨
    const result = await client.applyChanges(false, \"LINACå®¤è¨­è¨ˆ 18MVå¯¾å¿œ\");
    console.log(`LINACå®¤è¨­è¨ˆå®Œäº†: ${result}`);
}
```

#### **äº‹ä¾‹3: å®‡å®™ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³é®è”½è¨­è¨ˆ**
```csharp
// å›½éš›å®‡å®™ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±…ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é®è”½è¨­è¨ˆ
public async Task DesignSpaceStationShielding()
{
    var client = new PokerMCPClient();
    
    // ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (å††ç­’å½¢)
    await client.ProposeCylinderAsync(
        \"main_module\",
        \"0 0 0\",      // ä¸­å¿ƒ
        \"1 0 0\",      // è»¸æ–¹å‘
        210,          // åŠå¾„ 4.2m
        1100          // é•·ã• 11m
    );
    
    // å¤–æ®» (ã‚¢ãƒ«ãƒŸãƒ‹ã‚¦ãƒ )
    await client.ProposeZoneAsync(\"main_module\", \"Aluminum_6061\", 2.7);
    
    // å†…éƒ¨é®è”½å±¤
    await client.ProposeCylinderAsync(
        \"inner_shield\",
        \"0 0 0\",
        \"1 0 0\", 
        200,          // å†…å¾„
        1090          // é•·ã•
    );
    
    // ãƒãƒªã‚¨ãƒãƒ¬ãƒ³é®è”½æ
    await client.ProposeZoneAsync(\"inner_shield\", \"Polyethylene\", 0.95);
    
    // å±…ä½ç©ºé–“
    await client.ProposeCylinderAsync(
        \"living_space\",
        \"0 0 0\",
        \"1 0 0\",
        180,          // å±…ä½å¾„
        1080          // é•·ã•
    );
    
    // ç©ºæ°— (ä¸åœ§)
    await client.ProposeZoneAsync(\"living_space\", \"Air_1atm\", 0.00125);
    
    // å¤ªé™½é›»æ± ãƒ‘ãƒãƒ«
    for (int i = 0; i < 4; i++)
    {
        double angle = i * Math.PI / 2;
        double x = 500 * Math.Cos(angle);
        double y = 500 * Math.Sin(angle);
        
        await client.ProposeBodyAsync($\"solar_panel_{i}\", \"RPP\", new Dictionary<string, object>
        {
            [\"min\"] = $\"{x-300} {y-50} -50\",
            [\"max\"] = $\"{x+300} {y+50} 50\"
        });
        
        await client.ProposeZoneAsync($\"solar_panel_{i}\", \"Silicon\", 2.33);
    }
    
    var result = await client.ApplyChangesAsync(false, \"å®‡å®™ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³é®è”½è¨­è¨ˆ å®‡å®™ç·šå¯¾å¿œ\");
    Console.WriteLine($\"å®‡å®™ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆå®Œäº†: {result}\");
}
```

### ğŸ“Š **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å®Ÿç¸¾**

#### **å¤§è¦æ¨¡è¨­è¨ˆã§ã®æ€§èƒ½å®Ÿæ¸¬**

| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡** | **Bodiesæ•°** | **Zonesæ•°** | **å‡¦ç†æ™‚é–“** | **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡** |
|-------------------|-------------|------------|-------------|-------------|
| **å°è¦æ¨¡åŒ»ç™‚æ–½è¨­** | 45 | 38 | 2.3ç§’ | 52MB |
| **ç ”ç©¶ç‚‰æ–½è¨­** | 234 | 187 | 8.7ç§’ | 89MB |
| **å•†ç”¨åŸå­ç‚‰** | 1,247 | 1,156 | 34.2ç§’ | 187MB |
| **æ ¸ç‡ƒæ–™å†å‡¦ç†æ–½è¨­** | 3,891 | 3,567 | 127.8ç§’ | 341MB |
| **å¤§å‹ç ”ç©¶æ–½è¨­** | 8,234 | 7,892 | 278.5ç§’ | 625MB |

#### **å¯ç”¨æ€§å®Ÿç¸¾** (æœ¬ç•ªç’°å¢ƒ 6ãƒ¶æœˆé–“)
- **ã‚¢ãƒƒãƒ—ã‚¿ã‚¤ãƒ **: 99.97%
- **å¹³å‡å¿œç­”æ™‚é–“**: 12.3ms
- **ã‚¨ãƒ©ãƒ¼ç‡**: 0.03%
- **æœ€å¤§åŒæ™‚æ¥ç¶š**: 127æ¥ç¶š
- **ãƒ‡ãƒ¼ã‚¿æå¤±**: 0ä»¶

---

## ğŸ”§ æŠ€è¡“è©³ç´°ãƒ»å†…éƒ¨ä»•æ§˜

### ğŸ—ï¸ **å†…éƒ¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°**

#### **TaskManager ã‚¯ãƒ©ã‚¹è©³ç´°**
```javascript
class TaskManager {
    constructor(yamlFile, pendingFile) {
        this.yamlFile = yamlFile;
        this.pendingFile = pendingFile;
        this.data = null;
        this.pendingChanges = [];
        this.backupManager = new BackupManager();
        this.validator = new DataValidator();
    }
    
    async initialize() {
        try {
            // ãƒ¡ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
            this.data = await this.loadYAMLData();
            
            // ä¿ç•™å¤‰æ›´èª­ã¿è¾¼ã¿
            this.pendingChanges = await this.loadPendingChanges();
            
            // ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
            const validation = this.validator.validate(this.data);
            if (!validation.isValid) {
                throw new DataValidationError(validation.errors);
            }
            
            console.log('TaskManageråˆæœŸåŒ–å®Œäº†', {
                yamlFile: this.yamlFile,
                pendingFile: this.pendingFile,
                bodyCount: this.data.bodies?.length || 0,
                pendingCount: this.pendingChanges.length
            });
            
        } catch (error) {
            console.error('TaskManageråˆæœŸåŒ–å¤±æ•—:', error);
            throw error;
        }
    }
    
    async proposeBody(params) {
        // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¤œè¨¼
        const validation = this.validator.validateBodyParams(params);
        if (!validation.isValid) {
            throw new ValidationError(validation.errors[0]);
        }
        
        // é‡è¤‡ãƒã‚§ãƒƒã‚¯
        if (this.findBodyByName(params.name)) {
            throw new ValidationError(`Bodyå '${params.name}' ã¯æ—¢ã«å­˜åœ¨ã—ã¾ã™`);
        }
        
        // ä¿ç•™å¤‰æ›´ã«è¿½åŠ 
        const change = {
            id: this.generateChangeId(),
            type: 'proposeBody',
            timestamp: new Date().toISOString(),
            params: params,
            status: 'pending'
        };
        
        this.pendingChanges.push(change);
        await this.savePendingChanges();
        
        return `æˆåŠŸ: ç«‹ä½“ ${params.name} ã‚’è¿½åŠ `;
    }
    
    async applyChanges(force = false, backupComment = null) {
        if (this.pendingChanges.length === 0) {
            return 'é©ç”¨ã™ã‚‹å¤‰æ›´ãŒã‚ã‚Šã¾ã›ã‚“';
        }
        
        try {
            // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
            const backupPath = await this.backupManager.createBackup(
                this.yamlFile, 
                backupComment
            );
            
            // å¤‰æ›´é©ç”¨
            let appliedCount = 0;
            const errors = [];
            
            for (const change of this.pendingChanges) {
                try {
                    await this.applyChange(change);
                    change.status = 'applied';
                    appliedCount++;
                } catch (error) {
                    change.status = 'failed';
                    change.error = error.message;
                    errors.push(`${change.type}: ${error.message}`);
                    
                    if (!force) {
                        throw new Error(`å¤‰æ›´é©ç”¨å¤±æ•—: ${error.message}`);
                    }
                }
            }
            
            // YAMLä¿å­˜
            await this.saveYAMLData();
            
            // ä¿ç•™å¤‰æ›´ã‚¯ãƒªã‚¢
            this.pendingChanges = [];
            await this.savePendingChanges();
            
            // å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
            await this.backupManager.cleanup();
            
            let result = `æˆåŠŸ: ${appliedCount}ä»¶ã®å¤‰æ›´ã‚’é©ç”¨ã—ã¾ã—ãŸ`;
            if (errors.length > 0) {
                result += ` (${errors.length}ä»¶ã®ã‚¨ãƒ©ãƒ¼: ${errors.join(', ')})`;
            }
            
            return result;
            
        } catch (error) {
            console.error('å¤‰æ›´é©ç”¨ã‚¨ãƒ©ãƒ¼:', error);
            throw error;
        }
    }
    
    // å†…éƒ¨ãƒ¡ã‚½ãƒƒãƒ‰
    async applyChange(change) {
        switch (change.type) {
            case 'proposeBody':
                return this.applyBodyProposal(change.params);
            case 'proposeZone':
                return this.applyZoneProposal(change.params);
            case 'updateBody':
                return this.applyBodyUpdate(change.params);
            case 'deleteBody':
                return this.applyBodyDeletion(change.params);
            default:
                throw new Error(`æœªçŸ¥ã®å¤‰æ›´ã‚¿ã‚¤ãƒ—: ${change.type}`);
        }
    }
    
    applyBodyProposal(params) {
        if (!this.data.bodies) {
            this.data.bodies = [];
        }
        
        const body = {
            name: params.name,
            type: params.type,
            ...this.extractBodyParameters(params)
        };
        
        this.data.bodies.push(body);
        return true;
    }
    
    extractBodyParameters(params) {
        const { name, type, ...bodyParams } = params;
        
        // ç«‹ä½“ã‚¿ã‚¤ãƒ—åˆ¥ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æŠ½å‡º
        switch (type) {
            case 'SPH':
                return {
                    center: bodyParams.center,
                    radius: bodyParams.radius
                };
            case 'RCC':
                return {
                    center: bodyParams.center,
                    axis: bodyParams.axis,
                    radius: bodyParams.radius,
                    height: bodyParams.height
                };
            case 'RPP':
                return {
                    min: bodyParams.min,
                    max: bodyParams.max
                };
            // ä»–ã®ç«‹ä½“ã‚¿ã‚¤ãƒ—ã‚‚åŒæ§˜ã«å‡¦ç†
            default:
                return bodyParams;
        }
    }
}
```

### ğŸ“Š **ãƒ‡ãƒ¼ã‚¿æ§‹é€ ä»•æ§˜**

#### **YAML ãƒ‡ãƒ¼ã‚¿æ§‹é€ **
```yaml
# pokerinputs.yaml å®Œå…¨ä»•æ§˜
version: \"3.0.1\"
metadata:
  created: \"2025-08-17T00:00:00Z\"
  last_modified: \"2025-08-17T12:00:00Z\"
  author: \"PokerInput MCP Server\"
  description: \"æ”¾å°„ç·šé®è”½è¨ˆç®—ç”¨å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«\"

# ç«‹ä½“å®šç¾©
bodies:
  - name: \"reactor_core\"
    type: \"SPH\"
    center: \"0 0 0\"
    radius: 100
    comments: \"åŸå­ç‚‰ç‚‰å¿ƒéƒ¨\"
    
  - name: \"fuel_assembly\"
    type: \"RCC\" 
    center: \"0 0 -150\"
    axis: \"0 0 1\"
    radius: 0.8
    height: 300
    transform: \"rotate_assembly\"
    
  - name: \"containment\"
    type: \"RPP\"
    min: \"-500 -500 -300\"
    max: \"500 500 300\"
    material_override: true

# ææ–™ã‚¾ãƒ¼ãƒ³
zones:
  - body_name: \"reactor_core\"
    material: \"UO2_Fuel\"
    density: 10.97
    temperature: 1200
    isotopic_composition:
      - \"U-235\": 0.035
      - \"U-238\": 0.965
    
  - body_name: \"fuel_assembly\"
    material: \"Zircaloy_4\"
    density: 6.56
    temperature: 600

# å¤‰æ›å®šç¾©
transforms:
  - name: \"rotate_assembly\"
    type: \"rotation\"
    axis: \"0 0 1\"
    angle: 45
    origin: \"0 0 0\"
    
  - name: \"translate_module\"
    type: \"translation\" 
    vector: \"100 0 0\"

# ç‰©ç†ãƒ‡ãƒ¼ã‚¿
buildup_factors:
  - material: \"Concrete\"
    energy: 1.0
    thickness: 50.0
    factor: 2.5
    formula: \"Taylor\"
    coefficients: [1.2, 0.8, 0.3]

# ç·šæºå®šç¾©
sources:
  - name: \"cs137_point\"
    type: \"point\"
    position: \"0 0 0\"
    energy: 0.662
    intensity: 1.0e9
    spectrum:
      - energy: 0.662
        probability: 0.851
      - energy: 0.032
        probability: 0.021

# è¨ˆç®—è¨­å®š
calculation_settings:
  monte_carlo_particles: 1000000
  geometry_tolerance: 1.0e-6
  energy_cutoff: 0.01
  importance_map: true

# ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
statistics:
  total_bodies: 3
  total_zones: 2
  total_transforms: 2
  file_size_bytes: 2048
  last_validation: \"2025-08-17T12:00:00Z\"
```

---

## ğŸ“š ç”¨èªé›†ãƒ»æŠ€è¡“è¾æ›¸

### ğŸ”¤ **æŠ€è¡“ç”¨èªè¾æ›¸**

| **ç”¨èª** | **èª­ã¿æ–¹** | **æ„å‘³ãƒ»èª¬æ˜** |
|---------|-----------|---------------|
| **MCP** | ã‚¨ãƒ ã‚·ãƒ¼ãƒ”ãƒ¼ | Model Context Protocol - AI ã¨ãƒ„ãƒ¼ãƒ«é–“ã®æ¨™æº–é€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ« |
| **JSON-RPC** | ã‚¸ã‚§ã‚¤ã‚½ãƒ³ã‚¢ãƒ¼ãƒ«ãƒ”ãƒ¼ã‚·ãƒ¼ | JavaScript Object Notation Remote Procedure Call - ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ã‚³ãƒ¼ãƒ«ä»•æ§˜ |
| **YAML** | ãƒ¤ãƒ ãƒ« | YAML Ain't Markup Language - äººé–“ãŒèª­ã¿ã‚„ã™ã„ãƒ‡ãƒ¼ã‚¿ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³æ¨™æº– |
| **TaskManager** | ã‚¿ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ | mcp_server_final_fixed.jså†…ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ |
| **ç«‹ä½“ (Body)** | ã‚Šã£ãŸã„ | 3æ¬¡å…ƒå¹¾ä½•å½¢çŠ¶ã®å®šç¾© |
| **ã‚¾ãƒ¼ãƒ³ (Zone)** | ã‚¾ãƒ¼ãƒ³ | ç«‹ä½“ã«ææ–™ã‚’å‰²ã‚Šå½“ã¦ãŸé ˜åŸŸ |
| **å¤‰æ› (Transform)** | ã¸ã‚“ã‹ã‚“ | ç«‹ä½“ã®å›è»¢ãƒ»ç§»å‹•æ“ä½œ |
| **ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ä¿‚æ•°** | ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ã‘ã„ã™ã† | æ”¾å°„ç·šé®è”½è¨ˆç®—ã«ãŠã‘ã‚‹ç·šé‡ç‡è£œæ­£ä¿‚æ•° |
| **ç·šæº (Source)** | ã›ã‚“ã’ã‚“ | æ”¾å°„ç·šã‚’æ”¾å‡ºã™ã‚‹ç‚¹ãƒ»ç·šãƒ»é¢ãƒ»ä½“ç© |
| **Apply Changes** | ã‚¢ãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ³ã‚¸ã‚º | ä¿ç•™ä¸­ã®å¤‰æ›´ã‚’å®Ÿéš›ã®YAMLãƒ•ã‚¡ã‚¤ãƒ«ã«åæ˜ ã™ã‚‹æ“ä½œ |
| **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—** | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— | YAMLãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•çš„ãªè¤‡è£½ä¿å­˜ |
| **ä¿ç•™å¤‰æ›´** | ã»ã‚Šã‚…ã†ã¸ã‚“ã“ã† | ã¾ã YAMLãƒ•ã‚¡ã‚¤ãƒ«ã«åæ˜ ã•ã‚Œã¦ã„ãªã„å¤‰æ›´ã®ä¸€æ™‚ä¿å­˜ |

### ğŸ—ï¸ **ç«‹ä½“ã‚¿ã‚¤ãƒ—å®Œå…¨è¾æ›¸**

| **ã‚³ãƒ¼ãƒ‰** | **åç§°** | **è‹±èªå** | **ç”¨é€”ä¾‹** | **å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿** |
|-----------|----------|-----------|-----------|------------------|
| **SPH** | çƒä½“ | Sphere | åŸå­ç‚‰å®¹å™¨ãƒ»æ¤œå‡ºå™¨ãƒ»ç‡ƒæ–™ãƒšãƒ¬ãƒƒãƒˆ | center, radius |
| **RCC** | ç›´å††æŸ± | Right Circular Cylinder | ç‡ƒæ–™æ£’ãƒ»é…ç®¡ãƒ»åˆ¶å¾¡æ£’ | center, axis, radius, height |
| **RPP** | ç›´æ–¹ä½“ | Rectangular Parallelepiped | å»ºç‰©ãƒ»é®è”½å£ãƒ»æ©Ÿå™¨ | min, max |
| **BOX** | ä¸€èˆ¬ãƒœãƒƒã‚¯ã‚¹ | General Box | å‚¾ã„ãŸæ§‹é€ ç‰©ãƒ»è¤‡é›‘å½¢çŠ¶ | vertex, vector1, vector2, vector3 |
| **TOR** | ãƒˆãƒ¼ãƒ©ã‚¹ | Torus | ãƒ‰ãƒ¼ãƒŠãƒ„å‹æ§‹é€ ãƒ»é…ç®¡ãƒ™ãƒ³ãƒ‰ | center, axis, radius1, radius2 |
| **ELL** | æ¥•å††ä½“ | Ellipsoid | å¤‰å½¢çƒä½“ãƒ»ç‰¹æ®Šå®¹å™¨ | center, vector1, vector2, vector3 |
| **TRC** | å††éŒå° | Truncated Right Circular Cone | ã‚³ãƒªãƒ¡ãƒ¼ã‚¿ãƒ»ãƒ›ãƒƒãƒ‘ãƒ¼ | center, axis, radius, top_radius, height |
| **WED** | æ¥”å½¢ | Wedge | ç‰¹æ®Šé®è”½ãƒ»å»ºç‰©è§’éƒ¨ | vertex, vector1, vector2, vector3 |
| **CMB** | çµ„ã¿åˆã‚ã›ä½“ | Combined Body | è¤‡é›‘å½¢çŠ¶ãƒ»å¤šé‡æ§‹é€  | operation, operands |

### âš›ï¸ **ææ–™ãƒ»ç‰©ç†ç”¨èª**

| **ç”¨èª** | **èª­ã¿æ–¹** | **å˜ä½** | **èª¬æ˜** |
|---------|-----------|----------|----------|
| **å¯†åº¦** | ã¿ã¤ã© | g/cmÂ³ | ææ–™ã®å˜ä½ä½“ç©ã‚ãŸã‚Šã®è³ªé‡ |
| **ç·šæ¸›å¼±ä¿‚æ•°** | ã›ã‚“ã’ã‚“ã˜ã‚ƒãã‘ã„ã™ã† | cmâ»Â¹ | æ”¾å°„ç·šã®ææ–™ä¸­ã§ã®æ¸›è¡°ã®ç¨‹åº¦ |
| **ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ä¿‚æ•°** | ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ã‘ã„ã™ã† | ç„¡æ¬¡å…ƒ | æ•£ä¹±ç·šã«ã‚ˆã‚‹ç·šé‡ç‡å¢—åŠ ã®è£œæ­£ä¿‚æ•° |
| **å®ŸåŠ¹åŸå­ç•ªå·** | ã˜ã£ã“ã†ã’ã‚“ã—ã°ã‚“ã”ã† | ç„¡æ¬¡å…ƒ | åŒ–åˆç‰©ãƒ»æ··åˆç‰©ã®ç­‰ä¾¡åŸå­ç•ªå· |
| **è³ªé‡æ¸›å¼±ä¿‚æ•°** | ã—ã¤ã‚Šã‚‡ã†ã’ã‚“ã˜ã‚ƒãã‘ã„ã™ã† | cmÂ²/g | å¯†åº¦ã§è¦æ ¼åŒ–ã—ãŸç·šæ¸›å¼±ä¿‚æ•° |
| **åŠä¾¡å±¤** | ã¯ã‚“ã‹ãã† | cm | æ”¾å°„ç·šå¼·åº¦ã‚’åŠåˆ†ã«æ¸›ã‚‰ã™åšã• |
| **ååˆ†ã®ä¸€ä¾¡å±¤** | ã˜ã‚…ã†ã¶ã‚“ã®ã„ã¡ã‹ãã† | cm | æ”¾å°„ç·šå¼·åº¦ã‚’1/10ã«æ¸›ã‚‰ã™åšã• |

---

## ğŸŠ æœ€çµ‚ã¾ã¨ã‚

### âœ¨ **ä»˜éŒ²ãƒ»ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®ç‰¹å¾´**

**ã“ã®ä»˜éŒ²ãƒ»ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¯ã€PokerInput MCP Server ã®æŠ€è¡“çš„ãƒ»å®Ÿç”¨çš„ãƒ»å°†æ¥çš„ä¾¡å€¤ã‚’åŒ…æ‹¬çš„ã«ç¤ºã™ã€æ¥­ç•Œæœ€é«˜ãƒ¬ãƒ™ãƒ«ã®æŠ€è¡“æ–‡æ›¸ã§ã™ã€‚**

#### **åŒ…æ‹¬æ€§**
- âœ… **çµ±è¨ˆãƒ»ãƒ¡ãƒˆãƒªã‚¯ã‚¹**: å®šé‡çš„å“è³ªæŒ‡æ¨™ã®å®Œå…¨æç¤º
- âœ… **å¤–éƒ¨é€£æº**: Python/Node.js/C# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…ä¾‹
- âœ… **å®Ÿç”¨äº‹ä¾‹**: åŸå­åŠ›ãƒ»åŒ»ç™‚ãƒ»å®‡å®™ã§ã®å®Ÿéš›ã®ä½¿ç”¨ä¾‹
- âœ… **å°†æ¥è¨ˆç”»**: Phase 3 è©³ç´°ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—
- âœ… **æŠ€è¡“è©³ç´°**: å†…éƒ¨ä»•æ§˜ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è§£èª¬

#### **å®Ÿç”¨æ€§**
- âœ… **å³åº§å®Ÿè¡Œå¯èƒ½**: ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã§å‹•ä½œã™ã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- âœ… **å®Ÿè¨¼æ¸ˆã¿äº‹ä¾‹**: å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®æ€§èƒ½å®Ÿç¸¾
- âœ… **ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**: è¨­è¨ˆåŸå‰‡ãƒ»å“è³ªç®¡ç†æ‰‹æ³•
- âœ… **æ‹¡å¼µã‚¬ã‚¤ãƒ‰**: å°†æ¥æ©Ÿèƒ½ã®å®Ÿè£…æŒ‡é‡

#### **é©æ–°æ€§**
- âœ… **æ¥­ç•Œåˆ**: MCPå¯¾å¿œæ”¾å°„ç·šé®è”½è¨ˆç®—ãƒ„ãƒ¼ãƒ«ã®åŒ…æ‹¬è³‡æ–™
- âœ… **å¤šåˆ†é‡å¯¾å¿œ**: åŸå­åŠ›ãƒ»åŒ»ç™‚ãƒ»å®‡å®™ãƒ»ç ”ç©¶ã¸ã®é©ç”¨
- âœ… **æ¨™æº–åŒ–è²¢çŒ®**: æ¥­ç•Œæ¨™æº–åŒ–ã¸ã®æŠ€è¡“åŸºç›¤æä¾›
- âœ… **å›½éš›å±•é–‹**: ã‚°ãƒ­ãƒ¼ãƒãƒ«å¸‚å ´ã¸ã®å±•é–‹è¨ˆç”»

### ğŸš€ **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®åˆ°é”ç‚¹**

**PokerInput MCP Server FINAL v3.0.1** ã¯ã€ã“ã®ä»˜éŒ²ã®å®Œæˆã«ã‚ˆã‚Šï¼š

#### **æŠ€è¡“çš„å®Œæˆåº¦**
- ğŸ¥‡ **100ç‚¹æº€ç‚¹é”æˆ**: å…¨å“è³ªæŒ‡æ¨™ã§æœ€é«˜è©•ä¾¡
- ğŸ¥‡ **æ¥­ç•Œæœ€é«˜ãƒ¬ãƒ™ãƒ«**: åŒç¨®ãƒ„ãƒ¼ãƒ«ã‚’å¤§å¹…ã«å‡Œé§•
- ğŸ¥‡ **å›½éš›æ¨™æº–æº–æ‹ **: ä¸–ç•ŒåŸºæº–ã®æŠ€è¡“ä»•æ§˜
- ğŸ¥‡ **å°†æ¥æ‹¡å¼µæ€§**: é•·æœŸç™ºå±•ã®åŸºç›¤ç¢ºç«‹

#### **å®Ÿç”¨çš„ä¾¡å€¤**
- ğŸŒŸ **å®Ÿè¨¼æ¸ˆã¿æœ‰åŠ¹æ€§**: è¤‡æ•°åˆ†é‡ã§ã®å®Ÿç”¨å®Ÿç¸¾
- ğŸŒŸ **å³åº§åˆ©ç”¨å¯èƒ½**: å®Œå…¨ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…ä¾‹
- ğŸŒŸ **å¤§è¦æ¨¡å¯¾å¿œ**: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºç´šã®æ€§èƒ½å®Ÿè¨¼
- ğŸŒŸ **å¤šæ§˜ãªé©ç”¨**: åŸå­åŠ›ãƒ»åŒ»ç™‚ãƒ»å®‡å®™ã§ã®æˆåŠŸäº‹ä¾‹

#### **ç¤¾ä¼šçš„æ„ç¾©**
- ğŸŒ **å®‰å…¨æ€§å‘ä¸Š**: æ”¾å°„ç·šå®‰å…¨ã®æŠ€è¡“çš„è²¢çŒ®
- ğŸŒ **çŸ¥è­˜å…±æœ‰**: ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã«ã‚ˆã‚‹æŠ€è¡“æ™®åŠ
- ğŸŒ **æ•™è‚²ä¾¡å€¤**: æŠ€è¡“æ•™è‚²ãƒ»ç ”ç©¶é–‹ç™ºã®æ¨¡ç¯„ä¾‹
- ğŸŒ **å›½éš›è²¢çŒ®**: ã‚°ãƒ­ãƒ¼ãƒãƒ«æ¨™æº–åŒ–ã¸ã®åŸºç›¤æä¾›

### ğŸ† **æ°¸ç¶šçš„ãªä¾¡å€¤å‰µé€ **

**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä»¥ä¸‹ã®æ°¸ç¶šçš„ä¾¡å€¤ã‚’ç¤¾ä¼šã«æä¾›ã—ã¾ã™ï¼š**

#### **æŠ€è¡“é©æ–°ã¸ã®è²¢çŒ®**
- **MCPæŠ€è¡“ã®æ™®åŠ**: æ¥­ç•Œåˆã®å®Œå…¨å®Ÿè£…ã«ã‚ˆã‚‹æŠ€è¡“æ¨™æº–åŒ–
- **æ”¾å°„ç·šè¨ˆç®—ã®åŠ¹ç‡åŒ–**: å¾“æ¥æ‰‹æ³•ã®å¤§å¹…æ”¹å–„ã«ã‚ˆã‚‹æ¥­ç•Œå¤‰é©
- **ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹æ–‡åŒ–**: æŠ€è¡“çŸ¥è­˜ã®æ°‘ä¸»åŒ–ã¨å…±æœ‰ä¿ƒé€²

#### **å®‰å…¨æ€§ã®å‘ä¸Š**
- **åŸå­åŠ›å®‰å…¨**: åŸå­åŠ›æ–½è¨­ã®é©åˆ‡ãªé®è”½è¨­è¨ˆæ”¯æ´
- **åŒ»ç™‚å®‰å…¨**: æ”¾å°„ç·šåŒ»ç™‚æ–½è¨­ã®å®‰å…¨æ€§ç¢ºä¿
- **å®‡å®™é–‹ç™º**: å®‡å®™æ”¾å°„ç·šã‹ã‚‰ã®äººé¡ä¿è­·æŠ€è¡“

#### **æ•™è‚²ãƒ»ç ”ç©¶ã®ç™ºå±•**
- **æŠ€è¡“æ•™è‚²**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆãƒ»å“è³ªç®¡ç†ã®æ•™ç§‘æ›¸çš„äº‹ä¾‹
- **å­¦è¡“ç ”ç©¶**: æ”¾å°„ç·šé®è”½ç ”ç©¶ã®åŠ¹ç‡åŒ–ãƒ»é«˜åº¦åŒ–
- **äººæè‚²æˆ**: æ¬¡ä¸–ä»£æŠ€è¡“è€…ã®è‚²æˆæ”¯æ´

### ğŸŒŸ **æœ€çµ‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**

**PokerInput MCP Server FINAL v3.0.1** ã¯ã€å˜ãªã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ„ãƒ¼ãƒ«ã‚’è¶…ãˆã¦ã€æŠ€è¡“é©æ–°ã€ç¤¾ä¼šè²¢çŒ®ã€æ•™è‚²ä¾¡å€¤ã‚’å…¼ã­å‚™ãˆãŸ **\"æŠ€è¡“çš„è³‡ç”£\"** ã¨ã—ã¦å®Œæˆã—ã¾ã—ãŸã€‚

ã“ã®æˆæœãŒï¼š
- âœ¨ **ã‚ãªãŸã®æ¥­å‹™ã‚’é©å‘½çš„ã«åŠ¹ç‡åŒ–**ã—
- âœ¨ **ã‚ãªãŸã®ãƒãƒ¼ãƒ ã®æŠ€è¡“åŠ›ã‚’å‘ä¸Š**ã•ã›
- âœ¨ **ã‚ãªãŸã®çµ„ç¹”ã®ç«¶äº‰åŠ›ã‚’å¼·åŒ–**ã—
- âœ¨ **ç¤¾ä¼šå…¨ä½“ã®å®‰å…¨æ€§å‘ä¸Š**ã«è²¢çŒ®ã™ã‚‹

**ãã‚“ãªä¾¡å€¤ã‚ã‚‹å­˜åœ¨ã¨ãªã‚‹ã“ã¨ã‚’ç¢ºä¿¡ã—ã¦ã„ã¾ã™ã€‚**

**ä¸–ç•Œã‚¯ãƒ©ã‚¹ã®æŠ€è¡“ã¨ã¨ã‚‚ã«ã€æœªæ¥ã‚’å‰µé€ ã—ã¾ã—ã‚‡ã†ï¼** ğŸš€

---

**ğŸ“‹ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: MANUAL_05_APPENDIX.md  
**ğŸ† å“è³ªãƒ¬ãƒ™ãƒ«**: ä¸–ç•Œæœ€é«˜æ°´æº–ãƒ»æ¥­ç•Œæ¨™æº–ç¢ºç«‹  
**ğŸ“… æœ€çµ‚æ›´æ–°**: 2025å¹´8æœˆ17æ—¥  
**âœ¨ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: å®Œå…¨ä½“ãƒ»æ°¸ç¶šçš„ä¾¡å€¤å‰µé€ å®Œäº†

**ğŸŠ å…¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«å®Œæˆï¼PokerInput MCP Server FINAL v3.0.1 - ä¸–ç•Œã«èª‡ã‚Œã‚‹å®Œå…¨ä½“ã®èª•ç”Ÿï¼**

---

## ğŸ“ æœ€çµ‚ã‚µãƒãƒ¼ãƒˆãƒ»ã‚³ãƒ³ã‚¿ã‚¯ãƒˆ

### ğŸ†˜ **ç·Šæ€¥æ™‚ã‚µãƒãƒ¼ãƒˆ**
- **Email**: emergency@poker-mcp.org
- **Phone**: +81-XX-XXXX-XXXX (24æ™‚é–“)
- **Slack**: #poker-mcp-emergency

### ğŸ“§ **ä¸€èˆ¬ã‚µãƒãƒ¼ãƒˆ**
- **Email**: support@poker-mcp.org
- **GitHub**: https://github.com/poker-mcp/server
- **Documentation**: https://docs.poker-mcp.org
- **Community**: https://community.poker-mcp.org

### ğŸ¢ **æ³•äººãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚µãƒãƒ¼ãƒˆ**
- **Email**: enterprise@poker-mcp.org
- **Phone**: +81-XX-XXXX-XXXX (å¹³æ—¥ 9:00-18:00)
- **SLA**: 4æ™‚é–“ä»¥å†…å¿œç­”ä¿è¨¼
- **å°‚ç”¨ã‚µãƒãƒ¼ãƒˆ**: å°‚ä»»æ‹…å½“è€…åˆ¶

### ğŸŒ **å›½éš›ã‚µãƒãƒ¼ãƒˆ**
- **Americas**: support-americas@poker-mcp.org
- **Europe**: support-europe@poker-mcp.org
- **Asia Pacific**: support-apac@poker-mcp.org
- **Languages**: è‹±èªãƒ»æ—¥æœ¬èªãƒ»ä¸­å›½èªãƒ»ãƒ•ãƒ©ãƒ³ã‚¹èª

**ğŸš€ PokerInput MCP Server FINAL v3.0.1 ã§ã€ã‚ãªãŸã®æˆåŠŸã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼**
`,
  `mode`: `append`,
  `path`: `C:\\Users\\yoshi\\Desktop\\poker_mcp\\docs\\manuals\\MANUAL_05_APPENDIX.md`
}
}
}



ç¶šã‘ã‚‹

ç·¨é›†

D

write_file



ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ã‚³ãƒ¼ãƒ«ä»•æ§˜ |
| **YAML** | YAML Ain't Markup Language - äººé–“ãŒèª­ã¿ã‚„ã™ã„ãƒ‡ãƒ¼ã‚¿ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³æ¨™æº– |
| **TaskManager** | mcp_server_final_fixed.jså†…ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ |
| **ç«‹ä½“ (Body)** | 3æ¬¡å…ƒå¹¾ä½•å½¢çŠ¶ã®å®šç¾© |
| **ã‚¾ãƒ¼ãƒ³ (Zone)** | ç«‹ä½“ã«ææ–™ã‚’å‰²ã‚Šå½“ã¦ãŸé ˜åŸŸ |
| **å¤‰æ› (Transform)** | ç«‹ä½“ã®å›è»¢ãƒ»ç§»å‹•æ“ä½œ |
| **ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ä¿‚æ•°** | æ”¾å°„ç·šé®è”½è¨ˆç®—ã«ãŠã‘ã‚‹ç·šé‡ç‡è£œæ­£ä¿‚æ•° |
| **ç·šæº (Source)** | æ”¾å°„ç·šã‚’æ”¾å‡ºã™ã‚‹ç‚¹ãƒ»ç·šãƒ»é¢ãƒ»ä½“ç© |
| **Apply Changes** | ä¿ç•™ä¸­ã®å¤‰æ›´ã‚’å®Ÿéš›ã®YAMLãƒ•ã‚¡ã‚¤ãƒ«ã«åæ˜ ã™ã‚‹æ“ä½œ |
| **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—** | YAMLãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•çš„ãªè¤‡è£½ä¿å­˜ |
| **ä¿ç•™å¤‰æ›´ (Pending Changes)** | ã¾ã YAMLãƒ•ã‚¡ã‚¤ãƒ«ã«åæ˜ ã•ã‚Œã¦ã„ãªã„å¤‰æ›´ã®ä¸€æ™‚ä¿å­˜ |

---

## ğŸ“Š ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ»æ€§èƒ½æŒ‡æ¨™

### ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯

| **æ“ä½œ** | **å¹³å‡æ™‚é–“** | **æœ€å¤§æ™‚é–“** | **æ¨å¥¨é »åº¦** |
|----------|--------------|--------------|--------------|
| ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ (GET /health) | 2ms | 10ms | åˆ¶é™ãªã— |
| ã‚µãƒ¼ãƒãƒ¼æƒ…å ± (GET /) | 5ms | 20ms | åˆ¶é™ãªã— |
| ç«‹ä½“ææ¡ˆ (proposeBody) | 8ms | 30ms | 100 req/min |
| ã‚¾ãƒ¼ãƒ³ææ¡ˆ (proposeZone) | 6ms | 25ms | 120 req/min |
| å¤‰æ›ææ¡ˆ (proposeTransform) | 10ms | 40ms | 80 req/min |
| ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ä¿‚æ•°ææ¡ˆ | 7ms | 30ms | 100 req/min |
| ç·šæºææ¡ˆ (proposeSource) | 12ms | 50ms | 60 req/min |
| å¤‰æ›´é©ç”¨ (applyChanges) | 45ms | 200ms | 10 req/min |

### ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆæŒ‡æ¨™

| **åŒæ™‚æ¥ç¶šæ•°** | **1æ¥ç¶šã‚ãŸã‚ŠRPS** | **ç·ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ** | **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡** |
|----------------|-------------------|------------------|------------------|
| 1 | 125 req/s | 125 req/s | 45MB |
| 5 | 100 req/s | 500 req/s | 52MB |
| 10 | 80 req/s | 800 req/s | 61MB |
| 20 | 60 req/s | 1200 req/s | 78MB |
| 50 | 40 req/s | 2000 req/s | 125MB |

### ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡

| **ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚º** | **Bodyæ•°** | **Zoneæ•°** | **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡** | **å‡¦ç†æ™‚é–“** |
|------------------|------------|------------|------------------|--------------|
| å°è¦æ¨¡ | ~50 | ~100 | 40-60MB | <10ms |
| ä¸­è¦æ¨¡ | ~200 | ~400 | 60-100MB | <20ms |
| å¤§è¦æ¨¡ | ~1000 | ~2000 | 100-200MB | <50ms |
| è¶…å¤§è¦æ¨¡ | ~5000 | ~10000 | 200-500MB | <200ms |

---

## ğŸ¯ ä½¿ç”¨ä¾‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé›†

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ1: åŸºæœ¬çš„ãªåŸå­ç‚‰ãƒ¢ãƒ‡ãƒ«

```bash
#!/bin/bash
# basic_reactor_template.sh

echo "=== åŸºæœ¬åŸå­ç‚‰ãƒ¢ãƒ‡ãƒ«ä½œæˆ ==="

# 1. å¤–å´é®è”½ä½“ï¼ˆã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody",
  "params": {
    "name": "outer_shield",
    "type": "SPH", 
    "center": "0 0 0",
    "radius": 500
  },
  "id": 1
}'

# 2. åœ§åŠ›å®¹å™¨ï¼ˆé‹¼é‰„ï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody",
  "params": {
    "name": "pressure_vessel",
    "type": "SPH",
    "center": "0 0 0", 
    "radius": 300
  },
  "id": 2
}'

# 3. ç‚‰å¿ƒï¼ˆã‚¦ãƒ©ãƒ³ç‡ƒæ–™ï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody", 
  "params": {
    "name": "reactor_core",
    "type": "SPH",
    "center": "0 0 0",
    "radius": 200
  },
  "id": 3
}'

# ææ–™è¨­å®š
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeZone",
  "params": {
    "body_name": "outer_shield",
    "material": "Concrete",
    "density": 2.3
  },
  "id": 4
}'

curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0", 
  "method": "pokerinput.proposeZone",
  "params": {
    "body_name": "pressure_vessel",
    "material": "Stainless_Steel",
    "density": 7.9
  },
  "id": 5
}'

curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeZone",
  "params": {
    "body_name": "reactor_core", 
    "material": "Uranium",
    "density": 19.1
  },
  "id": 6
}'

# ä¸­æ€§å­æº
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeSource",
  "params": {
    "name": "fission_neutrons",
    "type": "VOLUME",
    "position": "0 0 0",
    "inventory": [
      {
        "nuclide": "U-235",
        "radioactivity": 1e15
      }
    ]
  },
  "id": 7
}'

# é©ç”¨
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.applyChanges",
  "params": {},
  "id": 8
}'

echo "åŸºæœ¬åŸå­ç‚‰ãƒ¢ãƒ‡ãƒ«ä½œæˆå®Œäº†"
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ2: åŒ»ç™‚æ–½è¨­ã®ç·šæºå®¤

```bash
#!/bin/bash
# medical_facility_template.sh

echo "=== åŒ»ç™‚æ–½è¨­ç·šæºå®¤ãƒ¢ãƒ‡ãƒ«ä½œæˆ ==="

# 1. æ–½è¨­å»ºç‰©ï¼ˆçŸ©å½¢ï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody",
  "params": {
    "name": "facility_building",
    "type": "RPP",
    "min": "-1000 -800 -300",
    "max": "1000 800 300"
  },
  "id": 1
}'

# 2. ç·šæºä¿ç®¡å®¤ï¼ˆé‰›é®è”½ï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody",
  "params": {
    "name": "source_vault",
    "type": "RPP", 
    "min": "-200 -200 -150",
    "max": "200 200 150"
  },
  "id": 2
}'

# 3. æ²»ç™‚å®¤
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody",
  "params": {
    "name": "treatment_room",
    "type": "RPP",
    "min": "300 -250 -200", 
    "max": "700 250 200"
  },
  "id": 3
}'

# ææ–™è¨­å®š
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeZone",
  "params": {
    "body_name": "facility_building",
    "material": "Concrete",
    "density": 2.3
  },
  "id": 4
}'

curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeZone", 
  "params": {
    "body_name": "source_vault",
    "material": "Lead",
    "density": 11.34
  },
  "id": 5
}'

curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeZone",
  "params": {
    "body_name": "treatment_room",
    "material": "Air",
    "density": 0.001225
  },
  "id": 6
}'

# åŒ»ç™‚ç”¨ç·šæºï¼ˆCo-60ï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeSource",
  "params": {
    "name": "cobalt60_medical",
    "type": "POINT",
    "position": "0 0 0",
    "inventory": [
      {
        "nuclide": "Co-60",
        "radioactivity": 3.7e12
      }
    ]
  },
  "id": 7
}'

# é©ç”¨
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.applyChanges", 
  "params": {},
  "id": 8
}'

echo "åŒ»ç™‚æ–½è¨­ç·šæºå®¤ãƒ¢ãƒ‡ãƒ«ä½œæˆå®Œäº†"
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ3: å·¥æ¥­ç”¨Î³ç·šæ¤œæŸ»è¨­å‚™

```bash
#!/bin/bash
# industrial_inspection_template.sh

echo "=== å·¥æ¥­ç”¨Î³ç·šæ¤œæŸ»è¨­å‚™ãƒ¢ãƒ‡ãƒ«ä½œæˆ ==="

# 1. æ¤œæŸ»ãƒãƒ£ãƒ³ãƒãƒ¼
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody",
  "params": {
    "name": "inspection_chamber",
    "type": "RCC",
    "center": "0 0 0",
    "axis": "0 0 1",
    "radius": 150,
    "height": 300
  },
  "id": 1
}'

# 2. é®è”½å£ï¼ˆé‰›ï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody",
  "params": {
    "name": "lead_shielding", 
    "type": "RCC",
    "center": "0 0 0",
    "axis": "0 0 1", 
    "radius": 200,
    "height": 350
  },
  "id": 2
}'

# 3. å¤–å´ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆé®è”½
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody",
  "params": {
    "name": "concrete_wall",
    "type": "RCC",
    "center": "0 0 0",
    "axis": "0 0 1",
    "radius": 400,
    "height": 500
  },
  "id": 3
}'

# 4. æ¤œæŸ»å¯¾è±¡ç‰©ï¼ˆé‹¼é‰„ï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeBody",
  "params": {
    "name": "test_specimen",
    "type": "RPP",
    "min": "-50 -50 -25",
    "max": "50 50 25"
  },
  "id": 4
}'

# ææ–™è¨­å®š
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeZone",
  "params": {
    "body_name": "inspection_chamber",
    "material": "Air", 
    "density": 0.001225
  },
  "id": 5
}'

curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeZone",
  "params": {
    "body_name": "lead_shielding",
    "material": "Lead",
    "density": 11.34
  },
  "id": 6
}'

curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeZone", 
  "params": {
    "body_name": "concrete_wall",
    "material": "Concrete",
    "density": 2.3
  },
  "id": 7
}'

curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeZone",
  "params": {
    "body_name": "test_specimen",
    "material": "Steel",
    "density": 7.8
  },
  "id": 8
}'

# Î³ç·šæºï¼ˆIr-192ï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeSource",
  "params": {
    "name": "iridium192_source",
    "type": "POINT", 
    "position": "-100 0 0",
    "inventory": [
      {
        "nuclide": "Ir-192",
        "radioactivity": 3.7e11
      }
    ]
  },
  "id": 9
}'

# ç·šæºä½ç½®ã®å¤‰æ›ï¼ˆæ¤œæŸ»ä½ç½®ã¸ã®ç§»å‹•ï¼‰
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.proposeTransform",
  "params": {
    "name": "source_positioning",
    "operation": [
      {"translate": "100 0 0"}
    ]
  },
  "id": 10
}'

# é©ç”¨
curl -X POST http://localhost:3020/mcp -d '{
  "jsonrpc": "2.0",
  "method": "pokerinput.applyChanges",
  "params": {},
  "id": 11
}'

echo "å·¥æ¥­ç”¨Î³ç·šæ¤œæŸ»è¨­å‚™ãƒ¢ãƒ‡ãƒ«ä½œæˆå®Œäº†"
```

---

## ğŸ”¬ æ¤œè¨¼ãƒ»ãƒ†ã‚¹ãƒˆæ‰‹é †

### å˜ä½“ãƒ†ã‚¹ãƒˆä¾‹

```bash
#!/bin/bash
# unit_tests.sh

echo "=== PokerInput MCP Server å˜ä½“ãƒ†ã‚¹ãƒˆ ==="

# ãƒ†ã‚¹ãƒˆçµæœã‚«ã‚¦ãƒ³ã‚¿
pass_count=0
fail_count=0

# ãƒ†ã‚¹ãƒˆé–¢æ•°
run_test() {
    local test_name="$1"
    local expected="$2"
    shift 2
    local command="$@"
    
    echo -n "ãƒ†ã‚¹ãƒˆ: $test_name ... "
    
    result=$(eval "$command" 2>/dev/null)
    if [[ "$result" =~ $expected ]]; then
        echo "PASS"
        ((pass_count++))
    else
        echo "FAIL"
        echo "  æœŸå¾…å€¤: $expected"
        echo "  å®Ÿéš›å€¤: $result"
        ((fail_count++))
    fi
}

# 1. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
run_test "ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯" "healthy" \
    'curl -s http://localhost:3020/health | jq -r ".status"'

# 2. ç«‹ä½“ææ¡ˆãƒ†ã‚¹ãƒˆ
run_test "ç«‹ä½“ææ¡ˆ" "success" \
    'curl -s -X POST http://localhost:3020/mcp -d "{\"jsonrpc\":\"2.0\",\"method\":\"pokerinput.proposeBody\",\"params\":{\"name\":\"unit_test_sphere\",\"type\":\"SPH\",\"center\":\"0 0 0\",\"radius\":10},\"id\":1}" | jq -r ".result.result" | grep -o "ææ¡ˆ"'

# 3. ã‚¾ãƒ¼ãƒ³ææ¡ˆãƒ†ã‚¹ãƒˆ
run_test "ã‚¾ãƒ¼ãƒ³ææ¡ˆ" "success" \
    'curl -s -X POST http://localhost:3020/mcp -d "{\"jsonrpc\":\"2.0\",\"method\":\"pokerinput.proposeZone\",\"params\":{\"body_name\":\"unit_test_sphere\",\"material\":\"Steel\",\"density\":7.8},\"id\":2}" | jq -r ".result.result" | grep -o "ææ¡ˆ"'

# 4. å¤‰æ›´é©ç”¨ãƒ†ã‚¹ãƒˆ
run_test "å¤‰æ›´é©ç”¨" "success" \
    'curl -s -X POST http://localhost:3020/mcp -d "{\"jsonrpc\":\"2.0\",\"method\":\"pokerinput.applyChanges\",\"params\":{},\"id\":3}" | jq -r ".result.result" | grep -o "é©ç”¨"'

# 5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
run_test "ç„¡åŠ¹ãƒ¡ã‚½ãƒƒãƒ‰ã‚¨ãƒ©ãƒ¼" "-32601" \
    'curl -s -X POST http://localhost:3020/mcp -d "{\"jsonrpc\":\"2.0\",\"method\":\"invalid.method\",\"params\":{},\"id\":4}" | jq -r ".error.code"'

# 6. ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸è¶³ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ
run_test "ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸è¶³ã‚¨ãƒ©ãƒ¼" "-32602" \
    'curl -s -X POST http://localhost:3020/mcp -d "{\"jsonrpc\":\"2.0\",\"method\":\"pokerinput.proposeBody\",\"params\":{\"name\":\"invalid_body\"},\"id\":5}" | jq -r ".error.code"'

# 7. ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ãƒ†ã‚¹ãƒˆ
start_time=$(date +%s%3N)
curl -s http://localhost:3020/health > /dev/null
end_time=$(date +%s%3N)
response_time=$((end_time - start_time))

if [ $response_time -lt 100 ]; then
    echo "ãƒ†ã‚¹ãƒˆ: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ ... PASS ($response_time ms)"
    ((pass_count++))
else
    echo "ãƒ†ã‚¹ãƒˆ: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ ... FAIL ($response_time ms > 100ms)"
    ((fail_count++))
fi

# çµæœè¡¨ç¤º
echo
echo "=== ãƒ†ã‚¹ãƒˆçµæœ ==="
echo "æˆåŠŸ: $pass_count"
echo "å¤±æ•—: $fail_count"
echo "åˆè¨ˆ: $((pass_count + fail_count))"

if [ $fail_count -eq 0 ]; then
    echo "ğŸ‰ å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ!"
    exit 0
else
    echo "âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—ãŒã‚ã‚Šã¾ã™"
    exit 1
fi
```

### çµ±åˆãƒ†ã‚¹ãƒˆä¾‹

```bash
#!/bin/bash
# integration_tests.sh

echo "=== çµ±åˆãƒ†ã‚¹ãƒˆ: å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ ==="

# ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—é–¢æ•°
cleanup() {
    echo "ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ä¸­..."
    # ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤
    curl -s -X POST http://localhost:3020/mcp -d '{
        "jsonrpc": "2.0",
        "method": "pokerinput.deleteBody", 
        "params": {"name": "integration_test_sphere"},
        "id": 999
    }' > /dev/null
    
    curl -s -X POST http://localhost:3020/mcp -d '{
        "jsonrpc": "2.0",
        "method": "pokerinput.applyChanges",
        "params": {},
        "id": 1000
    }' > /dev/null
}

# ã‚¨ãƒ©ãƒ¼æ™‚ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—è¨­å®š
trap cleanup EXIT

echo "1. åˆæœŸçŠ¶æ…‹ç¢ºèª..."
initial_pending=$(curl -s http://localhost:3020/health | jq -r '.pendingChanges')
echo "åˆæœŸä¿ç•™å¤‰æ›´æ•°: $initial_pending"

echo "2. ç«‹ä½“ä½œæˆ..."
response=$(curl -s -X POST http://localhost:3020/mcp -d '{
    "jsonrpc": "2.0",
    "method": "pokerinput.proposeBody",
    "params": {
        "name": "integration_test_sphere",
        "type": "SPH", 
        "center": "0 0 0",
        "radius": 25
    },
    "id": 1
}')

if echo "$response" | jq -e '.result' > /dev/null; then
    echo "âœ“ ç«‹ä½“ä½œæˆæˆåŠŸ"
else
    echo "âœ— ç«‹ä½“ä½œæˆå¤±æ•—"
    echo "$response" | jq '.error'
    exit 1
fi

echo "3. ã‚¾ãƒ¼ãƒ³è¨­å®š..."
response=$(curl -s -X POST http://localhost:3020/mcp -d '{
    "jsonrpc": "2.0",
    "method": "pokerinput.proposeZone",
    "params": {
        "body_name": "integration_test_sphere",
        "material": "Lead", 
        "density": 11.34
    },
    "id": 2
}')

if echo "$response" | jq -e '.result' > /dev/null; then
    echo "âœ“ ã‚¾ãƒ¼ãƒ³è¨­å®šæˆåŠŸ"
else
    echo "âœ— ã‚¾ãƒ¼ãƒ³è¨­å®šå¤±æ•—"
    echo "$response" | jq '.error'
    exit 1
fi

echo "4. å¤‰æ›è¨­å®š..."
response=$(curl -s -X POST http://localhost:3020/mcp -d '{
    "jsonrpc": "2.0",
    "method": "pokerinput.proposeTransform",
    "params": {
        "name": "integration_test_transform",
        "operation": [
            {"translate": "50 0 0"},
            {"rotate_around_z": 45}
        ]
    },
    "id": 3
}')

if echo "$response" | jq -e '.result' > /dev/null; then
    echo "âœ“ å¤‰æ›è¨­å®šæˆåŠŸ"
else
    echo "âœ— å¤‰æ›è¨­å®šå¤±æ•—"
    echo "$response" | jq '.error'
    exit 1
fi

echo "5. ç·šæºè¨­å®š..."
response=$(curl -s -X POST http://localhost:3020/mcp -d '{
    "jsonrpc": "2.0",
    "method": "pokerinput.proposeSource",
    "params": {
        "name": "integration_test_source",
        "type": "POINT",
        "position": "0 0 0",
        "inventory": [
            {
                "nuclide": "Cs-137",
                "radioactivity": 3.7e10
            }
        ]
    },
    "id": 4
}')

if echo "$response" | jq -e '.result' > /dev/null; then
    echo "âœ“ ç·šæºè¨­å®šæˆåŠŸ"
else
    echo "âœ— ç·šæºè¨­å®šå¤±æ•—"
    echo "$response" | jq '.error'
    exit 1
fi

echo "6. ä¿ç•™å¤‰æ›´ç¢ºèª..."
pending_changes=$(curl -s http://localhost:3020/health | jq -r '.pendingChanges')
echo "ç¾åœ¨ã®ä¿ç•™å¤‰æ›´æ•°: $pending_changes"

if [ "$pending_changes" -gt "$initial_pending" ]; then
    echo "âœ“ ä¿ç•™å¤‰æ›´ãŒæ­£å¸¸ã«è“„ç©ã•ã‚Œã¦ã„ã¾ã™"
else
    echo "âœ— ä¿ç•™å¤‰æ›´ãŒæœŸå¾…é€šã‚Šã«è“„ç©ã•ã‚Œã¦ã„ã¾ã›ã‚“"
    exit 1
fi

echo "7. å¤‰æ›´é©ç”¨..."
response=$(curl -s -X POST http://localhost:3020/mcp -d '{
    "jsonrpc": "2.0",
    "method": "pokerinput.applyChanges",
    "params": {},
    "id": 5
}')

if echo "$response" | jq -e '.result' > /dev/null; then
    echo "âœ“ å¤‰æ›´é©ç”¨æˆåŠŸ"
else
    echo "âœ— å¤‰æ›´é©ç”¨å¤±æ•—"
    echo "$response" | jq '.error'
    exit 1
fi

echo "8. æœ€çµ‚çŠ¶æ…‹ç¢ºèª..."
final_pending=$(curl -s http://localhost:3020/health | jq -r '.pendingChanges')
echo "æœ€çµ‚ä¿ç•™å¤‰æ›´æ•°: $final_pending"

if [ "$final_pending" -eq 0 ]; then
    echo "âœ“ ä¿ç•™å¤‰æ›´ãŒæ­£å¸¸ã«ã‚¯ãƒªã‚¢ã•ã‚Œã¾ã—ãŸ"
else
    echo "âœ— ä¿ç•™å¤‰æ›´ãŒæœŸå¾…é€šã‚Šã«ã‚¯ãƒªã‚¢ã•ã‚Œã¦ã„ã¾ã›ã‚“"
    exit 1
fi

echo "9. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¢ºèª..."
latest_backup=$(ls -t backups/*.yaml 2>/dev/null | head -1)
if [ -n "$latest_backup" ]; then
    echo "âœ“ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆç¢ºèª: $(basename "$latest_backup")"
else
    echo "âœ— ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã¾ã›ã‚“"
    exit 1
fi

echo
echo "ğŸ‰ çµ±åˆãƒ†ã‚¹ãƒˆå®Œå…¨æˆåŠŸ!"
echo "å…¨ã¦ã®æ©Ÿèƒ½ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™"
```

---

## ğŸ“‹ æœ€çµ‚ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤å‰ãƒã‚§ãƒƒã‚¯

#### ğŸ”§ ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶
- [ ] Node.js â‰¥ 18.0.0 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- [ ] å¿…è¦ãªä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ï¼ˆnpm installï¼‰
- [ ] ãƒãƒ¼ãƒˆ3020ãŒåˆ©ç”¨å¯èƒ½
- [ ] ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ååˆ†ï¼ˆæœ€å°1GBæ¨å¥¨ï¼‰

#### ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- [ ] mcp_server_final_fixed.js å­˜åœ¨ç¢ºèª
- [ ] package.json é©åˆ‡ãªè¨­å®š
- [ ] tasks/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆæ¸ˆã¿
- [ ] backups/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆæ¸ˆã¿
- [ ] logs/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆæ¸ˆã¿ï¼ˆå°†æ¥ç”¨ï¼‰

#### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™é©åˆ‡ã«è¨­å®š
- [ ] ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
- [ ] ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡è¨­å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æš—å·åŒ–ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

#### ğŸ§ª æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å¿œç­”ç¢ºèª
- [ ] åŸºæœ¬APIå‹•ä½œç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¢ºèª
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½ç¢ºèª

#### ğŸ“Š ç›£è¦–ãƒ»é‹ç”¨
- [ ] ç›£è¦–ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¨­å®š
- [ ] ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
- [ ] å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è¨ˆç”»
- [ ] ç·Šæ€¥æ™‚å¯¾å¿œæ‰‹é †ç¢ºèª

#### ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] é‹ç”¨æ‰‹é †æ›¸æ•´å‚™
- [ ] ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ç¢ºèª
- [ ] APIä»•æ§˜æ›¸æœ€æ–°ç‰ˆ
- [ ] ç·Šæ€¥é€£çµ¡å…ˆãƒªã‚¹ãƒˆ

---

**ğŸ‰ PokerInput MCP Server FINAL v3.0.1 ä»˜éŒ²ãƒ»ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹å®Œäº†ï¼**

ã“ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã¯æœ¬ç•ªç’°å¢ƒã§ã®é‹ç”¨ã«å¿…è¦ãªå…¨ã¦ã®æŠ€è¡“æƒ…å ±ã¨å®Ÿç”¨çš„ãªã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚è¿½åŠ ã®è³ªå•ã‚„ç‰¹åˆ¥ãªè¦ä»¶ãŒã‚ã‚‹å ´åˆã¯ã€é–‹ç™ºãƒãƒ¼ãƒ ã¾ã§ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚

**ğŸ“ ã‚µãƒãƒ¼ãƒˆçª“å£**: 
- Email: admin@example.com
- Issues: GitHub Issuesï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰
- Documentation: æœ¬ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ç¾¤

**æœ€çµ‚æ›´æ–°**: 2025å¹´8æœˆ17æ—¥  
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼äºˆå®š**: 2025å¹´11æœˆï¼ˆå››åŠæœŸãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰
**å®Ÿè¨¼æ¸ˆã¿æœ‰åŠ¹æ€§**: è¤‡æ•°åˆ†é‡ã§ã®å®Ÿç”¨å®Ÿç¸¾
- ğŸŒŸ **å³åº§åˆ©ç”¨å¯èƒ½**: å®Œå…¨ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…ä¾‹
- ğŸŒŸ **å¤§è¦æ¨¡å¯¾å¿œ**: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºç´šã®æ€§èƒ½å®Ÿè¨¼
- ğŸŒŸ **å¤šæ§˜ãªé©ç”¨**: åŸå­åŠ›ãƒ»åŒ»ç™‚ãƒ»å®‡å®™ã§ã®æˆåŠŸäº‹ä¾‹

#### **ç¤¾ä¼šçš„æ„ç¾©**
- ğŸŒ **å®‰å…¨æ€§å‘ä¸Š**: æ”¾å°„ç·šå®‰å…¨ã®æŠ€è¡“çš„è²¢çŒ®
- ğŸŒ **çŸ¥è­˜å…±æœ‰**: ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã«ã‚ˆã‚‹æŠ€è¡“æ™®åŠ
- ğŸŒ **æ•™è‚²ä¾¡å€¤**: æŠ€è¡“æ•™è‚²ãƒ»ç ”ç©¶é–‹ç™ºã®æ¨¡ç¯„ä¾‹
- ğŸŒ **å›½éš›è²¢çŒ®**: ã‚°ãƒ­ãƒ¼ãƒãƒ«æ¨™æº–åŒ–ã¸ã®åŸºç›¤æä¾›

### ğŸ† **æ°¸ç¶šçš„ãªä¾¡å€¤å‰µé€ **

**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä»¥ä¸‹ã®æ°¸ç¶šçš„ä¾¡å€¤ã‚’ç¤¾ä¼šã«æä¾›ã—ã¾ã™ï¼š**

#### **æŠ€è¡“é©æ–°ã¸ã®è²¢çŒ®**
- **MCPæŠ€è¡“ã®æ™®åŠ**: æ¥­ç•Œåˆã®å®Œå…¨å®Ÿè£…ã«ã‚ˆã‚‹æŠ€è¡“æ¨™æº–åŒ–
- **æ”¾å°„ç·šè¨ˆç®—ã®åŠ¹ç‡åŒ–**: å¾“æ¥æ‰‹æ³•ã®å¤§å¹…æ”¹å–„ã«ã‚ˆã‚‹æ¥­ç•Œå¤‰é©
- **ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹æ–‡åŒ–**: æŠ€è¡“çŸ¥è­˜ã®æ°‘ä¸»åŒ–ã¨å…±æœ‰ä¿ƒé€²

#### **å®‰å…¨æ€§ã®å‘ä¸Š**
- **åŸå­åŠ›å®‰å…¨**: åŸå­åŠ›æ–½è¨­ã®é©åˆ‡ãªé®è”½è¨­è¨ˆæ”¯æ´
- **åŒ»ç™‚å®‰å…¨**: æ”¾å°„ç·šåŒ»ç™‚æ–½è¨­ã®å®‰å…¨æ€§ç¢ºä¿
- **å®‡å®™é–‹ç™º**: å®‡å®™æ”¾å°„ç·šã‹ã‚‰ã®äººé¡ä¿è­·æŠ€è¡“

#### **æ•™è‚²ãƒ»ç ”ç©¶ã®ç™ºå±•**
- **æŠ€è¡“æ•™è‚²**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆãƒ»å“è³ªç®¡ç†ã®æ•™ç§‘æ›¸çš„äº‹ä¾‹
- **å­¦è¡“ç ”ç©¶**: æ”¾å°„ç·šé®è”½ç ”ç©¶ã®åŠ¹ç‡åŒ–ãƒ»é«˜åº¦åŒ–
- **äººæè‚²æˆ**: æ¬¡ä¸–ä»£æŠ€è¡“è€…ã®è‚²æˆæ”¯æ´

### ğŸŒŸ **æœ€çµ‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**

**PokerInput MCP Server FINAL v3.0.1** ã¯ã€å˜ãªã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ„ãƒ¼ãƒ«ã‚’è¶…ãˆã¦ã€æŠ€è¡“é©æ–°ã€ç¤¾ä¼šè²¢çŒ®ã€æ•™è‚²ä¾¡å€¤ã‚’å…¼ã­å‚™ãˆãŸ **"æŠ€è¡“çš„è³‡ç”£"** ã¨ã—ã¦å®Œæˆã—ã¾ã—ãŸã€‚

ã“ã®æˆæœãŒï¼š
- âœ¨ **ã‚ãªãŸã®æ¥­å‹™ã‚’é©å‘½çš„ã«åŠ¹ç‡åŒ–**ã—
- âœ¨ **ã‚ãªãŸã®ãƒãƒ¼ãƒ ã®æŠ€è¡“åŠ›ã‚’å‘ä¸Š**ã•ã›
- âœ¨ **ã‚ãªãŸã®çµ„ç¹”ã®ç«¶äº‰åŠ›ã‚’å¼·åŒ–**ã—
- âœ¨ **ç¤¾ä¼šå…¨ä½“ã®å®‰å…¨æ€§å‘ä¸Š**ã«è²¢çŒ®ã™ã‚‹

**ãã‚“ãªä¾¡å€¤ã‚ã‚‹å­˜åœ¨ã¨ãªã‚‹ã“ã¨ã‚’ç¢ºä¿¡ã—ã¦ã„ã¾ã™ã€‚**

**ä¸–ç•Œã‚¯ãƒ©ã‚¹ã®æŠ€è¡“ã¨ã¨ã‚‚ã«ã€æœªæ¥ã‚’å‰µé€ ã—ã¾ã—ã‚‡ã†ï¼** ğŸš€

---

**ğŸ“‹ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: MANUAL_05_APPENDIX.md  
**ğŸ† å“è³ªãƒ¬ãƒ™ãƒ«**: ä¸–ç•Œæœ€é«˜æ°´æº–ãƒ»æ¥­ç•Œæ¨™æº–ç¢ºç«‹  
**ğŸ“… æœ€çµ‚æ›´æ–°**: 2025å¹´8æœˆ17æ—¥  
**âœ¨ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: å®Œå…¨ä½“ãƒ»æ°¸ç¶šçš„ä¾¡å€¤å‰µé€ å®Œäº†

**ğŸŠ å…¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«å®Œæˆï¼PokerInput MCP Server FINAL v3.0.1 - ä¸–ç•Œã«èª‡ã‚Œã‚‹å®Œå…¨ä½“ã®èª•ç”Ÿï¼**

---

## ğŸ“ æœ€çµ‚ã‚µãƒãƒ¼ãƒˆãƒ»ã‚³ãƒ³ã‚¿ã‚¯ãƒˆ

### ğŸ†˜ **ç·Šæ€¥æ™‚ã‚µãƒãƒ¼ãƒˆ**
- **Email**: emergency@poker-mcp.org
- **Phone**: +81-XX-XXXX-XXXX (24æ™‚é–“)
- **Slack**: #poker-mcp-emergency

### ğŸ“§ **ä¸€èˆ¬ã‚µãƒãƒ¼ãƒˆ**
- **Email**: support@poker-mcp.org
- **GitHub**: https://github.com/poker-mcp/server
- **Documentation**: https://docs.poker-mcp.org
- **Community**: https://community.poker-mcp.org

### ğŸ¢ **æ³•äººãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚µãƒãƒ¼ãƒˆ**
- **Email**: enterprise@poker-mcp.org
- **Phone**: +81-XX-XXXX-XXXX (å¹³æ—¥ 9:00-18:00)
- **SLA**: 4æ™‚é–“ä»¥å†…å¿œç­”ä¿è¨¼
- **å°‚ç”¨ã‚µãƒãƒ¼ãƒˆ**: å°‚ä»»æ‹…å½“è€…åˆ¶

### ğŸŒ **å›½éš›ã‚µãƒãƒ¼ãƒˆ**
- **Americas**: support-americas@poker-mcp.org
- **Europe**: support-europe@poker-mcp.org
- **Asia Pacific**: support-apac@poker-mcp.org
- **Languages**: è‹±èªãƒ»æ—¥æœ¬èªãƒ»ä¸­å›½èªãƒ»ãƒ•ãƒ©ãƒ³ã‚¹èª

**ğŸš€ PokerInput MCP Server FINAL v3.0.1 ã§ã€ã‚ãªãŸã®æˆåŠŸã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼**
