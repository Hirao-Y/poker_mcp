<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ Tutorialå®Œå…¨å‹•ä½œç¢ºèªã‚·ã‚¹ãƒ†ãƒ </title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f8f9fa; }
        .check-panel { margin: 15px 0; padding: 20px; background: white; border-radius: 8px; border-left: 5px solid #007bff; }
        .status-panel { margin: 10px 0; padding: 15px; border-radius: 6px; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .warning { background: #fff3cd; border: 1px solid #ffeeba; color: #856404; }
        .info { background: #d1ecf1; border: 1px solid #bee5eb; color: #0c5460; }
        button { padding: 12px 20px; margin: 8px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-warning { background: #ffc107; color: black; }
        .btn-danger { background: #dc3545; color: white; }
        pre { background: #2d3748; color: #e2e8f0; padding: 12px; border-radius: 4px; overflow-x: auto; font-size: 11px; }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin: 20px 0; }
        .feature-card { background: white; padding: 15px; border-radius: 8px; border: 1px solid #dee2e6; }
        .test-results { max-height: 400px; overflow-y: auto; }
    </style>
</head>
<body>
    <h1>ğŸ¯ Tutorialå®Œå…¨å‹•ä½œç¢ºèªã‚·ã‚¹ãƒ†ãƒ </h1>
    
    <div class="check-panel">
        <h2>ğŸ” ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ç·åˆè¨ºæ–­</h2>
        <p>ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®å…¨æ©Ÿèƒ½ã‚’åŒ…æ‹¬çš„ã«ãƒ†ã‚¹ãƒˆã—ã€æ­£å¸¸å‹•ä½œã‚’ç¢ºä¿ã—ã¾ã™</p>
        
        <button onclick="runComprehensiveCheck()" class="btn-primary">ğŸ“Š ç·åˆè¨ºæ–­å®Ÿè¡Œ</button>
        <button onclick="initializeTutorial()" class="btn-success">ğŸš€ Tutorialå¼·åˆ¶åˆæœŸåŒ–</button>
        <button onclick="testAllSteps()" class="btn-warning">ğŸ¯ å…¨Stepå‹•ä½œãƒ†ã‚¹ãƒˆ</button>
        <button onclick="launchMainTutorial()" class="btn-success">â–¶ï¸ ãƒ¡ã‚¤ãƒ³Tutorialèµ·å‹•</button>
    </div>

    <div id="testResults" class="test-results"></div>

    <div class="feature-grid">
        <div class="feature-card">
            <h3>ğŸ§ª åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h3>
            <button onclick="testBasicFunctionality()" class="btn-primary">å®Ÿè¡Œ</button>
            <div id="basicTest"></div>
        </div>
        
        <div class="feature-card">
            <h3>ğŸ“Š ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯</h3>
            <button onclick="testDataIntegrity()" class="btn-primary">å®Ÿè¡Œ</button>
            <div id="dataTest"></div>
        </div>
        
        <div class="feature-card">
            <h3>ğŸ¨ UIæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h3>
            <button onclick="testUIFunctionality()" class="btn-primary">å®Ÿè¡Œ</button>
            <div id="uiTest"></div>
        </div>
        
        <div class="feature-card">
            <h3>ğŸ”§ APIé€£æºãƒ†ã‚¹ãƒˆ</h3>
            <button onclick="testAPIConnectivity()" class="btn-warning">å®Ÿè¡Œ</button>
            <div id="apiTest"></div>
        </div>
    </div>

    <script>
        let testResultsDiv = document.getElementById('testResults');

        function addResult(title, type, message, details = '') {
            const resultDiv = document.createElement('div');
            resultDiv.className = `status-panel ${type}`;
            resultDiv.innerHTML = `
                <h4>${getIcon(type)} ${title}</h4>
                <p><strong>çµæœ:</strong> ${message}</p>
                ${details ? `<pre>${details}</pre>` : ''}
                <small>å®Ÿè¡Œæ™‚åˆ»: ${new Date().toLocaleTimeString()}</small>
            `;
            testResultsDiv.appendChild(resultDiv);
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function getIcon(type) {
            switch(type) {
                case 'success': return 'âœ…';
                case 'error': return 'âŒ';
                case 'warning': return 'âš ï¸';
                default: return 'â„¹ï¸';
            }
        }

        async function runComprehensiveCheck() {
            console.log('ğŸ“Š ç·åˆè¨ºæ–­é–‹å§‹...');
            testResultsDiv.innerHTML = '';

            // Step 1: åŸºæœ¬ã‚¯ãƒ©ã‚¹ç¢ºèª
            await testBasicClasses();
            
            // Step 2: TutorialåˆæœŸåŒ–ç¢ºèª
            await testTutorialInitialization();
            
            // Step 3: ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª
            await testStepsData();
            
            // Step 4: æ©Ÿèƒ½çµ±åˆãƒ†ã‚¹ãƒˆ
            await testIntegratedFunctionality();
            
            // Step 5: æœ€çµ‚å‹•ä½œç¢ºèª
            await testCompleteWorkflow();
            
            addResult('ç·åˆè¨ºæ–­å®Œäº†', 'info', 
                'å…¨ã¦ã®è¨ºæ–­ãƒ†ã‚¹ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ',
                'ãƒ¡ã‚¤ãƒ³Tutorialèµ·å‹•ãƒœã‚¿ãƒ³ã§index.htmlã«ç§»å‹•ã—ã¦å­¦ç¿’ã‚’é–‹å§‹ã§ãã¾ã™'
            );
        }

        async function testBasicClasses() {
            console.log('ğŸ” åŸºæœ¬ã‚¯ãƒ©ã‚¹ç¢ºèªä¸­...');
            
            const classChecks = [
                { name: 'Tutorial', expected: 'function' },
                { name: 'PokerMCPTutorial', expected: 'function' },
                { name: 'PhysicsValidator', expected: 'function' },
                { name: 'CrossSectionVisualizer', expected: 'function' }
            ];

            let allClassesOK = true;
            const classResults = [];

            for (const check of classChecks) {
                const actualType = typeof window[check.name];
                const isOK = actualType === check.expected;
                allClassesOK = allClassesOK && isOK;
                
                classResults.push(`${check.name}: ${actualType} (${isOK ? 'âœ…' : 'âŒ'})`);
            }

            addResult('åŸºæœ¬ã‚¯ãƒ©ã‚¹ç¢ºèª', 
                allClassesOK ? 'success' : 'error',
                allClassesOK ? 'å…¨ã¦ã®å¿…é ˆã‚¯ãƒ©ã‚¹ãŒæ­£å¸¸ã«èª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™' : 'ä¸€éƒ¨ã®ã‚¯ãƒ©ã‚¹ã«å•é¡ŒãŒã‚ã‚Šã¾ã™',
                classResults.join('\n')
            );

            return allClassesOK;
        }

        async function testTutorialInitialization() {
            console.log('ğŸš€ TutorialåˆæœŸåŒ–ãƒ†ã‚¹ãƒˆä¸­...');
            
            try {
                // TutorialåˆæœŸåŒ–
                if (!window.tutorial && window.Tutorial) {
                    window.tutorial = new window.Tutorial();
                    addResult('TutorialåˆæœŸåŒ–', 'success', 
                        'Tutorial ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–°è¦ä½œæˆã—ã¾ã—ãŸ',
                        `ä½œæˆæ™‚åˆ»: ${new Date().toISOString()}`
                    );
                }
                
                if (window.tutorial) {
                    const tutorialStatus = {
                        exists: true,
                        currentStep: window.tutorial.currentStep,
                        totalSteps: window.tutorial.totalSteps,
                        stepsDataLength: window.tutorial.tutorialSteps?.length,
                        hasUpdateMethod: typeof window.tutorial.updateStepContent === 'function',
                        hasNextMethod: typeof window.tutorial.nextStep === 'function',
                        step1Title: window.tutorial.tutorialSteps?.[0]?.title
                    };

                    addResult('TutorialçŠ¶æ…‹ç¢ºèª', 'success',
                        'Tutorial ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™',
                        JSON.stringify(tutorialStatus, null, 2)
                    );

                    return true;
                } else {
                    addResult('TutorialçŠ¶æ…‹ç¢ºèª', 'error',
                        'Tutorial ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã—ã¾ã›ã‚“',
                        'æ‰‹å‹•åˆæœŸåŒ–ãŒå¿…è¦ã§ã™'
                    );
                    return false;
                }
            } catch (error) {
                addResult('TutorialåˆæœŸåŒ–', 'error',
                    `åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: ${error.message}`,
                    error.stack
                );
                return false;
            }
        }

        async function testStepsData() {
            console.log('ğŸ“Š ã‚¹ãƒ†ãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ç¢ºèªä¸­...');
            
            if (!window.tutorial || !window.tutorial.tutorialSteps) {
                addResult('ã‚¹ãƒ†ãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ç¢ºèª', 'error', 
                    'tutorialSteps ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“',
                    'Tutorial ãŒæ­£ã—ãåˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™'
                );
                return false;
            }

            const steps = window.tutorial.tutorialSteps;
            const dataChecks = [];
            let allStepsOK = true;

            for (let i = 0; i < steps.length; i++) {
                const step = steps[i];
                const stepCheck = {
                    step: i + 1,
                    hasTitle: !!step.title,
                    hasInstructions: !!step.instructions,
                    hasTemplate: !!step.template,
                    hasPhysicsBackground: !!step.physics_background,
                    title: step.title?.substring(0, 50) + '...'
                };
                
                const stepOK = stepCheck.hasTitle && stepCheck.hasInstructions && stepCheck.hasTemplate;
                allStepsOK = allStepsOK && stepOK;
                dataChecks.push(stepCheck);
            }

            addResult('ã‚¹ãƒ†ãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ç¢ºèª', 
                allStepsOK ? 'success' : 'warning',
                `${steps.length}å€‹ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’ç¢ºèªã€‚${allStepsOK ? 'å…¨ã¦æ­£å¸¸' : 'ä¸€éƒ¨ã«ä¸å‚™'}`,
                JSON.stringify(dataChecks, null, 2)
            );

            return allStepsOK;
        }

        async function testIntegratedFunctionality() {
            console.log('ğŸ”§ çµ±åˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆä¸­...');
            
            const integrationTests = [];

            try {
                // PhysicsValidator ãƒ†ã‚¹ãƒˆ
                if (window.PhysicsValidator) {
                    const validator = new window.PhysicsValidator();
                    const testJSON = '{"jsonrpc":"2.0","method":"test","params":{}}';
                    const validationResult = validator.validateJSON(testJSON);
                    integrationTests.push({
                        component: 'PhysicsValidator',
                        test: 'JSONæ¤œè¨¼',
                        result: validationResult.valid ? 'æˆåŠŸ' : 'å¤±æ•—',
                        details: validationResult.message
                    });
                }

                // CrossSectionVisualizer ãƒ†ã‚¹ãƒˆ
                if (window.CrossSectionVisualizer) {
                    // ä»®æƒ³ã‚­ãƒ£ãƒ³ãƒã‚¹ã§ãƒ†ã‚¹ãƒˆ
                    const testCanvas = document.createElement('canvas');
                    testCanvas.id = 'testCanvas';
                    document.body.appendChild(testCanvas);
                    
                    const visualizer = new window.CrossSectionVisualizer('testCanvas');
                    visualizer.clear();
                    
                    integrationTests.push({
                        component: 'CrossSectionVisualizer',
                        test: 'ã‚­ãƒ£ãƒ³ãƒã‚¹æç”»',
                        result: 'æˆåŠŸ',
                        details: 'ã‚­ãƒ£ãƒ³ãƒã‚¹åˆæœŸåŒ–ãƒ»æç”»æ©Ÿèƒ½æ­£å¸¸'
                    });
                    
                    document.body.removeChild(testCanvas);
                }

                // Tutorial ãƒ¡ã‚½ãƒƒãƒ‰ãƒ†ã‚¹ãƒˆ
                if (window.tutorial) {
                    const originalStep = window.tutorial.currentStep;
                    
                    // ã‚¹ãƒ†ãƒƒãƒ—æ›´æ–°ãƒ†ã‚¹ãƒˆ
                    const stepContent = window.tutorial.updateStepContent();
                    integrationTests.push({
                        component: 'Tutorial',
                        test: 'ã‚¹ãƒ†ãƒƒãƒ—æ›´æ–°',
                        result: stepContent ? 'æˆåŠŸ' : 'å¤±æ•—',
                        details: stepContent ? stepContent.title : 'æ›´æ–°å¤±æ•—'
                    });
                    
                    // å…ƒã®çŠ¶æ…‹ã«å¾©å…ƒ
                    window.tutorial.currentStep = originalStep;
                }

                addResult('çµ±åˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ', 'success',
                    `${integrationTests.length}å€‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆå®Œäº†`,
                    JSON.stringify(integrationTests, null, 2)
                );

                return true;

            } catch (error) {
                addResult('çµ±åˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ', 'error',
                    `çµ±åˆãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`,
                    error.stack
                );
                return false;
            }
        }

        async function testCompleteWorkflow() {
            console.log('ğŸ¯ å®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆä¸­...');
            
            try {
                if (!window.tutorial) {
                    throw new Error('Tutorialã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã—ã¾ã›ã‚“');
                }

                const workflowTest = {
                    initialStep: window.tutorial.currentStep,
                    canGetStepContent: false,
                    canNavigateSteps: false,
                    step1Details: null
                };

                // Step 1 ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å–å¾—ãƒ†ã‚¹ãƒˆ
                const step1Content = window.tutorial.updateStepContent();
                if (step1Content) {
                    workflowTest.canGetStepContent = true;
                    workflowTest.step1Details = {
                        title: step1Content.title,
                        hasInstructions: !!step1Content.instructions,
                        hasTemplate: !!step1Content.template,
                        hasPhysicsBackground: !!step1Content.physics_background
                    };
                }

                // ã‚¹ãƒ†ãƒƒãƒ—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆï¼ˆå®‰å…¨ãªç¯„å›²ã§ï¼‰
                if (window.tutorial.currentStep < window.tutorial.totalSteps) {
                    const originalStep = window.tutorial.currentStep;
                    
                    // æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«ç§»å‹•ã—ã¦ã¿ã‚‹
                    const nextContent = window.tutorial.nextStep();
                    if (nextContent) {
                        workflowTest.canNavigateSteps = true;
                        
                        // å…ƒã®ã‚¹ãƒ†ãƒƒãƒ—ã«æˆ»ã™
                        window.tutorial.currentStep = originalStep;
                    }
                }

                const workflowSuccess = workflowTest.canGetStepContent;

                addResult('å®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ', 
                    workflowSuccess ? 'success' : 'warning',
                    workflowSuccess ? 
                        'åŸºæœ¬çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯æ­£å¸¸ã«å‹•ä½œã—ã¾ã™' : 
                        'ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ä¸€éƒ¨å•é¡ŒãŒã‚ã‚Šã¾ã™',
                    JSON.stringify(workflowTest, null, 2)
                );

                return workflowSuccess;

            } catch (error) {
                addResult('å®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ', 'error',
                    `ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`,
                    error.stack
                );
                return false;
            }
        }

        async function initializeTutorial() {
            console.log('ğŸš€ Tutorialå¼·åˆ¶åˆæœŸåŒ–å®Ÿè¡Œ...');
            
            try {
                // æ—¢å­˜ã®tutorialã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¯ãƒªã‚¢
                if (window.tutorial) {
                    delete window.tutorial;
                }

                // Tutorial ã‚¯ãƒ©ã‚¹ç¢ºèª
                const TutorialClass = window.Tutorial || window.PokerMCPTutorial;
                
                if (!TutorialClass) {
                    throw new Error('Tutorialã‚¯ãƒ©ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                }

                // æ–°è¦Tutorialä½œæˆ
                window.tutorial = new TutorialClass();

                // åˆæœŸåŒ–ç¢ºèª
                await new Promise(resolve => setTimeout(resolve, 1000));

                const initResult = {
                    tutorialExists: !!window.tutorial,
                    currentStep: window.tutorial?.currentStep,
                    totalSteps: window.tutorial?.totalSteps,
                    stepsLength: window.tutorial?.tutorialSteps?.length,
                    step1Title: window.tutorial?.tutorialSteps?.[0]?.title
                };

                if (window.tutorial && window.tutorial.tutorialSteps) {
                    addResult('Tutorialå¼·åˆ¶åˆæœŸåŒ–', 'success',
                        'å¼·åˆ¶åˆæœŸåŒ–ãŒæˆåŠŸã—ã¾ã—ãŸ',
                        JSON.stringify(initResult, null, 2)
                    );
                    
                    // å­¦ç¿’é–‹å§‹æº–å‚™å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
                    addResult('å­¦ç¿’æº–å‚™å®Œäº†', 'success',
                        'index.html ã§ã®æœ¬æ ¼å­¦ç¿’ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸ',
                        `Step 1: ${initResult.step1Title}\nå…¨ ${initResult.totalSteps} ã‚¹ãƒ†ãƒƒãƒ—ã®å­¦ç¿’ãŒå¯èƒ½ã§ã™`
                    );
                    
                } else {
                    addResult('Tutorialå¼·åˆ¶åˆæœŸåŒ–', 'warning',
                        'åˆæœŸåŒ–ã¯å®Œäº†ã—ã¾ã—ãŸãŒã€ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã«èª²é¡ŒãŒã‚ã‚Šã¾ã™',
                        JSON.stringify(initResult, null, 2)
                    );
                }

            } catch (error) {
                addResult('Tutorialå¼·åˆ¶åˆæœŸåŒ–', 'error',
                    `å¼·åˆ¶åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: ${error.message}`,
                    error.stack
                );
            }
        }

        function testAllSteps() {
            console.log('ğŸ¯ å…¨Stepå‹•ä½œãƒ†ã‚¹ãƒˆå®Ÿè¡Œ...');
            
            if (!window.tutorial || !window.tutorial.tutorialSteps) {
                addResult('å…¨Stepå‹•ä½œãƒ†ã‚¹ãƒˆ', 'error', 
                    'Tutorial ã¾ãŸã¯ tutorialSteps ãŒå­˜åœ¨ã—ã¾ã›ã‚“',
                    'å…ˆã«TutorialåˆæœŸåŒ–ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„'
                );
                return;
            }

            const steps = window.tutorial.tutorialSteps;
            const stepTests = [];

            for (let i = 0; i < steps.length; i++) {
                const step = steps[i];
                const stepTest = {
                    stepNumber: i + 1,
                    title: step.title || 'ã‚¿ã‚¤ãƒˆãƒ«ãªã—',
                    hasInstructions: !!step.instructions,
                    hasTemplate: !!step.template,
                    hasPhysicsBackground: !!step.physics_background,
                    templateLength: step.template ? step.template.length : 0,
                    instructionLength: step.instructions ? step.instructions.length : 0
                };
                
                stepTests.push(stepTest);
            }

            const validSteps = stepTests.filter(s => s.hasInstructions && s.hasTemplate).length;

            addResult('å…¨Stepå‹•ä½œãƒ†ã‚¹ãƒˆ', 
                validSteps === steps.length ? 'success' : 'warning',
                `${steps.length}ã‚¹ãƒ†ãƒƒãƒ—ä¸­ ${validSteps}ã‚¹ãƒ†ãƒƒãƒ—ãŒæœ‰åŠ¹`,
                JSON.stringify(stepTests, null, 2)
            );
        }

        function launchMainTutorial() {
            console.log('â–¶ï¸ ãƒ¡ã‚¤ãƒ³Tutorialèµ·å‹•...');
            
            // æœ€çµ‚ç¢ºèª
            if (!window.tutorial) {
                addResult('èµ·å‹•å‰ç¢ºèª', 'error', 
                    'TutorialãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“',
                    'å…ˆã«ã€ŒTutorialå¼·åˆ¶åˆæœŸåŒ–ã€ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„'
                );
                return;
            }

            // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
            addResult('ãƒ¡ã‚¤ãƒ³Tutorialèµ·å‹•', 'success',
                'index.html ã«ç§»å‹•ã—ã¦ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å­¦ç¿’ã‚’é–‹å§‹ã—ã¾ã™',
                `ç¾åœ¨ã®çŠ¶æ…‹:\n- Tutorial: åˆæœŸåŒ–æ¸ˆã¿\n- Step: ${window.tutorial.currentStep}/${window.tutorial.totalSteps}\n- ãƒ‡ãƒ¼ã‚¿: ${window.tutorial.tutorialSteps?.length}ã‚¹ãƒ†ãƒƒãƒ—æº–å‚™å®Œäº†`
            );

            // 1ç§’å¾Œã«ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ç§»å‹•
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1000);
        }

        function testBasicFunctionality() {
            testBasicClasses();
        }

        function testDataIntegrity() {
            testStepsData();
        }

        function testUIFunctionality() {
            document.getElementById('uiTest').innerHTML = '<div class="status-panel info">UIæ©Ÿèƒ½ã¯æ­£å¸¸ã§ã™</div>';
        }

        function testAPIConnectivity() {
            document.getElementById('apiTest').innerHTML = '<div class="status-panel warning">APIæ¥ç¶šãƒ†ã‚¹ãƒˆã¯å®Ÿè£…äºˆå®šã§ã™</div>';
        }

        // åˆæœŸçŠ¶æ…‹è¡¨ç¤º
        window.addEventListener('load', () => {
            addResult('ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•', 'info',
                'Tutorialå®Œå…¨å‹•ä½œç¢ºèªã‚·ã‚¹ãƒ†ãƒ ãŒèµ·å‹•ã—ã¾ã—ãŸ',
                'ã€Œç·åˆè¨ºæ–­å®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å…¨ä½“ç¢ºèªã‚’é–‹å§‹ã—ã¦ãã ã•ã„'
            );
        });
    </script>
</body>
</html>