{
  "name": "pokerinput-mcp-final",
  "version": "4.0.0",
  "description": "世界クラス YAML-based radiation shielding calculation input file management tool with enterprise-grade MCP support",
  "url": "http://localhost:3020/mcp",
  "server": {
    "command": "node",
    "args": ["src/mcp_server_stdio_v4.js"],
    "cwd": "C:\\Users\\tora\\Desktop\\poker_mcp",
    "env": {
      "NODE_ENV": "production"
    }
  },
  "capabilities": {
    "tools": true,
    "prompts": false,
    "resources": false,
    "logging": true
  },
  "metadata": {
    "author": "yoshihiro hirao",
    "license": "ISC",
    "repository": "https://github.com/example/pokerinput-mcp-final",
    "documentation": "docs/README.md",
    "manuals": "docs/manuals/INDEX.md",
    "status": "production",
    "quality_level": "enterprise",
    "last_updated": "2025-08-17"
  },
  "config": {
    "data_file": "tasks/pokerinputs.yaml",
    "pending_file": "tasks/pending_changes.json",
    "backup_directory": "backups/",
    "log_directory": "logs/",
    "max_backups": 10,
    "auto_backup": true,
    "real_data_update": true
  },
  "tools": [
    {
      "name": "pokerinput_proposeBody",
      "description": "新しい3D立体を提案します（自動バックアップ付き）",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "立体の一意な名前"
          },
          "type": {
            "type": "string", 
            "description": "立体タイプ",
            "enum": ["SPH", "RCC", "RPP", "BOX", "CMB", "TOR", "ELL", "REC", "TRC", "WED"]
          },
          "center": {
            "type": "string",
            "description": "中心座標 (x y z形式)",
            "pattern": "^-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?$"
          },
          "radius": {
            "type": "number",
            "description": "半径 (SPH用)",
            "minimum": 0,
            "exclusiveMinimum": true
          },
          "bottom_center": {
            "type": "string", 
            "description": "底面中心座標 (RCC用)",
            "pattern": "^-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?$"
          },
          "height_vector": {
            "type": "string",
            "description": "高さベクトル (RCC用)",
            "pattern": "^-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?$"
          },
          "min": {
            "type": "string",
            "description": "最小座標 (RPP用)",
            "pattern": "^-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?$"
          },
          "max": {
            "type": "string",
            "description": "最大座標 (RPP用)",
            "pattern": "^-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?$"
          },
          "expression": {
            "type": "string",
            "description": "組み合わせ式 (CMB用)"
          }
        },
        "required": ["name", "type"],
        "additionalProperties": true
      }
    },
    {
      "name": "pokerinput_updateBody", 
      "description": "既存立体のパラメータを更新します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "更新する立体の名前"
          }
        },
        "required": ["name"],
        "additionalProperties": true
      }
    },
    {
      "name": "pokerinput_deleteBody",
      "description": "立体を削除します（依存関係もチェック）",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "削除する立体の名前"
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_proposeZone",
      "description": "材料ゾーンを提案します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "body_name": {
            "type": "string", 
            "description": "ゾーンが適用される立体名"
          },
          "material": {
            "type": "string",
            "description": "材料名"
          },
          "density": {
            "type": "number",
            "description": "密度 (g/cm³)",
            "minimum": 0
          }
        },
        "required": ["body_name", "material"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_updateZone",
      "description": "既存ゾーンの材料・密度を更新します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "body_name": {
            "type": "string",
            "description": "更新するゾーンの立体名"
          }
        },
        "required": ["body_name"],
        "additionalProperties": true
      }
    },
    {
      "name": "pokerinput_deleteZone",
      "description": "材料ゾーンを削除します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "body_name": {
            "type": "string",
            "description": "削除するゾーンの立体名"
          }
        },
        "required": ["body_name"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_proposeTransform",
      "description": "回転・移動変換を提案します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "変換の一意な名前"
          },
          "operation": {
            "type": "array",
            "description": "変換操作の配列",
            "items": {
              "type": "object",
              "additionalProperties": true
            },
            "minItems": 1
          }
        },
        "required": ["name", "operation"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_updateTransform",
      "description": "既存変換のパラメータを更新します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "更新する変換名"
          }
        },
        "required": ["name"],
        "additionalProperties": true
      }
    },
    {
      "name": "pokerinput_deleteTransform",
      "description": "変換を削除します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "削除する変換名"
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_proposeBuildupFactor",
      "description": "ビルドアップ係数を提案します", 
      "inputSchema": {
        "type": "object",
        "properties": {
          "material": {
            "type": "string",
            "description": "材料名"
          },
          "use_slant_correction": {
            "type": "boolean",
            "description": "斜め入射補正を使用するか",
            "default": false
          },
          "use_finite_medium_correction": {
            "type": "boolean",
            "description": "有限媒質補正を使用するか",
            "default": false
          }
        },
        "required": ["material"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_updateBuildupFactor",
      "description": "ビルドアップ係数を更新します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "material": {
            "type": "string",
            "description": "材料名"
          }
        },
        "required": ["material"],
        "additionalProperties": true
      }
    },
    {
      "name": "pokerinput_deleteBuildupFactor",
      "description": "ビルドアップ係数を削除します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "material": {
            "type": "string",
            "description": "材料名"
          }
        },
        "required": ["material"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_changeOrderBuildupFactor",
      "description": "ビルドアップ係数の計算順序を変更します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "material": {
            "type": "string",
            "description": "材料名"
          },
          "newIndex": {
            "type": "number",
            "description": "新しいインデックス位置",
            "minimum": 0
          }
        },
        "required": ["material"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_proposeSource",
      "description": "放射線源を提案します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "線源名"
          },
          "type": {
            "type": "string",
            "description": "線源タイプ",
            "enum": ["POINT", "BOX", "RPP", "SPH", "RCC"]
          },
          "position": {
            "type": "string",
            "description": "線源位置 (x y z形式)",
            "pattern": "^-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?\\s+-?\\d+(\\.\\d+)?$"
          },
          "inventory": {
            "type": "array",
            "description": "核種インベントリ",
            "items": {
              "type": "object",
              "properties": {
                "nuclide": {
                  "type": "string",
                  "description": "核種名"
                },
                "radioactivity": {
                  "type": "number",
                  "description": "放射能 (Bq)",
                  "minimum": 0,
                  "exclusiveMinimum": true
                }
              },
              "required": ["nuclide", "radioactivity"],
              "additionalProperties": false
            },
            "minItems": 1
          },
          "cutoff_rate": {
            "type": "number",
            "description": "カットオフ率",
            "minimum": 0,
            "maximum": 1,
            "default": 0.0001
          }
        },
        "required": ["name", "type", "position", "inventory"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_updateSource",
      "description": "既存線源のパラメータを更新します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "更新する線源の名前"
          }
        },
        "required": ["name"],
        "additionalProperties": true
      }
    },
    {
      "name": "pokerinput_deleteSource",
      "description": "線源を削除します",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "削除する線源の名前"
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    {
      "name": "pokerinput_applyChanges",
      "description": "保留中の全変更を実際のYAMLファイルに適用します（自動バックアップ実行）",
      "inputSchema": {
        "type": "object",
        "properties": {
          "force": {
            "type": "boolean",
            "description": "強制適用フラグ（警告を無視）",
            "default": false
          },
          "backup_comment": {
            "type": "string",
            "description": "バックアップのコメント",
            "maxLength": 200
          }
        },
        "additionalProperties": false
      }
    }
  ]
}
